<शैली गुरु>
/* SPDX-License-Identअगरier: GPL-2.0+ */
/*  Copyright (c) 2016-2017 Hisilicon Limited. */

#अगर_अघोषित __HCLGE_ERR_H
#घोषणा __HCLGE_ERR_H

#समावेश "hclge_main.h"
#समावेश "hnae3.h"

#घोषणा HCLGE_MPF_RAS_पूर्णांक_न्यून_BD_NUM	10
#घोषणा HCLGE_PF_RAS_पूर्णांक_न्यून_BD_NUM	4
#घोषणा HCLGE_MPF_MSIX_पूर्णांक_न्यून_BD_NUM	10
#घोषणा HCLGE_PF_MSIX_पूर्णांक_न्यून_BD_NUM	4

#घोषणा HCLGE_RAS_PF_OTHER_INT_STS_REG   0x20B00
#घोषणा HCLGE_RAS_REG_NFE_MASK   0xFF00
#घोषणा HCLGE_RAS_REG_ROCEE_ERR_MASK   0x3000000

#घोषणा HCLGE_VECTOR0_REG_MSIX_MASK   0x1FF00

#घोषणा HCLGE_IMP_TCM_ECC_ERR_INT_EN	0xFFFF0000
#घोषणा HCLGE_IMP_TCM_ECC_ERR_INT_EN_MASK	0xFFFF0000
#घोषणा HCLGE_IMP_ITCM4_ECC_ERR_INT_EN	0x300
#घोषणा HCLGE_IMP_ITCM4_ECC_ERR_INT_EN_MASK	0x300
#घोषणा HCLGE_CMDQ_NIC_ECC_ERR_INT_EN	0xFFFF
#घोषणा HCLGE_CMDQ_NIC_ECC_ERR_INT_EN_MASK	0xFFFF
#घोषणा HCLGE_CMDQ_ROCEE_ECC_ERR_INT_EN	0xFFFF0000
#घोषणा HCLGE_CMDQ_ROCEE_ECC_ERR_INT_EN_MASK	0xFFFF0000
#घोषणा HCLGE_IMP_RD_POISON_ERR_INT_EN	0x0100
#घोषणा HCLGE_IMP_RD_POISON_ERR_INT_EN_MASK	0x0100
#घोषणा HCLGE_TQP_ECC_ERR_INT_EN	0x0FFF
#घोषणा HCLGE_TQP_ECC_ERR_INT_EN_MASK	0x0FFF
#घोषणा HCLGE_MSIX_SRAM_ECC_ERR_INT_EN_MASK	0x0F000000
#घोषणा HCLGE_MSIX_SRAM_ECC_ERR_INT_EN	0x0F000000
#घोषणा HCLGE_IGU_ERR_INT_EN	0x0000000F
#घोषणा HCLGE_IGU_ERR_INT_TYPE	0x00000660
#घोषणा HCLGE_IGU_ERR_INT_EN_MASK	0x000F
#घोषणा HCLGE_IGU_TNL_ERR_INT_EN    0x0002AABF
#घोषणा HCLGE_IGU_TNL_ERR_INT_EN_MASK  0x003F
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT0_EN	0xFFFFFFFF
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT0_EN_MASK	0xFFFFFFFF
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT1_EN	0xFFFFFFFF
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT1_EN_MASK	0xFFFFFFFF
#घोषणा HCLGE_PPP_PF_ERR_INT_EN	0x0003
#घोषणा HCLGE_PPP_PF_ERR_INT_EN_MASK	0x0003
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT2_EN	0x003F
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT2_EN_MASK	0x003F
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT3_EN	0x003F
#घोषणा HCLGE_PPP_MPF_ECC_ERR_INT3_EN_MASK	0x003F
#घोषणा HCLGE_TM_SCH_ECC_ERR_INT_EN	0x3
#घोषणा HCLGE_TM_QCN_MEM_ERR_INT_EN	0xFFFFFF
#घोषणा HCLGE_NCSI_ERR_INT_EN	0x3
#घोषणा HCLGE_NCSI_ERR_INT_TYPE	0x9
#घोषणा HCLGE_MAC_COMMON_ERR_INT_EN		0x107FF
#घोषणा HCLGE_MAC_COMMON_ERR_INT_EN_MASK	0x107FF
#घोषणा HCLGE_MAC_TNL_INT_EN			GENMASK(9, 0)
#घोषणा HCLGE_MAC_TNL_INT_EN_MASK		GENMASK(9, 0)
#घोषणा HCLGE_MAC_TNL_INT_CLR			GENMASK(9, 0)
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT0_EN		GENMASK(31, 0)
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT0_EN_MASK	GENMASK(31, 0)
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT1_EN		GENMASK(31, 0)
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT1_EN_MASK	GENMASK(31, 0)
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT2_EN		0x3FFF3FFF
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT2_EN_MASK	0x3FFF3FFF
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT2_EN2		0xB
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT2_EN2_MASK	0xB
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT3_EN		GENMASK(7, 0)
#घोषणा HCLGE_PPU_MPF_ABNORMAL_INT3_EN_MASK	GENMASK(23, 16)
#घोषणा HCLGE_PPU_PF_ABNORMAL_INT_EN		GENMASK(5, 0)
#घोषणा HCLGE_PPU_PF_ABNORMAL_INT_EN_MASK	GENMASK(5, 0)
#घोषणा HCLGE_SSU_1BIT_ECC_ERR_INT_EN		GENMASK(31, 0)
#घोषणा HCLGE_SSU_1BIT_ECC_ERR_INT_EN_MASK	GENMASK(31, 0)
#घोषणा HCLGE_SSU_MULTI_BIT_ECC_ERR_INT_EN	GENMASK(31, 0)
#घोषणा HCLGE_SSU_MULTI_BIT_ECC_ERR_INT_EN_MASK	GENMASK(31, 0)
#घोषणा HCLGE_SSU_BIT32_ECC_ERR_INT_EN		0x0101
#घोषणा HCLGE_SSU_BIT32_ECC_ERR_INT_EN_MASK	0x0101
#घोषणा HCLGE_SSU_COMMON_INT_EN			GENMASK(9, 0)
#घोषणा HCLGE_SSU_COMMON_INT_EN_MASK		GENMASK(9, 0)
#घोषणा HCLGE_SSU_PORT_BASED_ERR_INT_EN		0x0BFF
#घोषणा HCLGE_SSU_PORT_BASED_ERR_INT_EN_MASK	0x0BFF0000
#घोषणा HCLGE_SSU_FIFO_OVERFLOW_ERR_INT_EN	GENMASK(23, 0)
#घोषणा HCLGE_SSU_FIFO_OVERFLOW_ERR_INT_EN_MASK	GENMASK(23, 0)

#घोषणा HCLGE_SSU_COMMON_ERR_INT_MASK	GENMASK(9, 0)
#घोषणा HCLGE_SSU_PORT_INT_MSIX_MASK	0x7BFF
#घोषणा HCLGE_IGU_INT_MASK		GENMASK(3, 0)
#घोषणा HCLGE_IGU_EGU_TNL_INT_MASK	GENMASK(5, 0)
#घोषणा HCLGE_PPP_MPF_INT_ST3_MASK	GENMASK(5, 0)
#घोषणा HCLGE_PPU_MPF_INT_ST3_MASK	GENMASK(7, 0)
#घोषणा HCLGE_PPU_MPF_INT_ST2_MSIX_MASK	BIT(29)
#घोषणा HCLGE_PPU_PF_INT_RAS_MASK	0x18
#घोषणा HCLGE_PPU_PF_INT_MSIX_MASK	0x26
#घोषणा HCLGE_PPU_PF_OVER_8BD_ERR_MASK	0x01
#घोषणा HCLGE_QCN_FIFO_INT_MASK		GENMASK(17, 0)
#घोषणा HCLGE_QCN_ECC_INT_MASK		GENMASK(21, 0)
#घोषणा HCLGE_NCSI_ECC_INT_MASK		GENMASK(1, 0)

#घोषणा HCLGE_ROCEE_RAS_NFE_INT_EN		0xF
#घोषणा HCLGE_ROCEE_RAS_CE_INT_EN		0x1
#घोषणा HCLGE_ROCEE_RAS_NFE_INT_EN_MASK		0xF
#घोषणा HCLGE_ROCEE_RAS_CE_INT_EN_MASK		0x1
#घोषणा HCLGE_ROCEE_RERR_INT_MASK		BIT(0)
#घोषणा HCLGE_ROCEE_BERR_INT_MASK		BIT(1)
#घोषणा HCLGE_ROCEE_AXI_ERR_INT_MASK		GENMASK(1, 0)
#घोषणा HCLGE_ROCEE_ECC_INT_MASK		BIT(2)
#घोषणा HCLGE_ROCEE_OVF_INT_MASK		BIT(3)
#घोषणा HCLGE_ROCEE_OVF_ERR_INT_MASK		0x10000
#घोषणा HCLGE_ROCEE_OVF_ERR_TYPE_MASK		0x3F

क्रमागत hclge_err_पूर्णांक_type अणु
	HCLGE_ERR_INT_MSIX = 0,
	HCLGE_ERR_INT_RAS_CE = 1,
	HCLGE_ERR_INT_RAS_NFE = 2,
	HCLGE_ERR_INT_RAS_FE = 3,
पूर्ण;

काष्ठा hclge_hw_blk अणु
	u32 msk;
	स्थिर अक्षर *name;
	पूर्णांक (*config_err_पूर्णांक)(काष्ठा hclge_dev *hdev, bool en);
पूर्ण;

काष्ठा hclge_hw_error अणु
	u32 पूर्णांक_msk;
	स्थिर अक्षर *msg;
	क्रमागत hnae3_reset_type reset_level;
पूर्ण;

पूर्णांक hclge_config_mac_tnl_पूर्णांक(काष्ठा hclge_dev *hdev, bool en);
पूर्णांक hclge_config_nic_hw_error(काष्ठा hclge_dev *hdev, bool state);
पूर्णांक hclge_config_rocee_ras_पूर्णांकerrupt(काष्ठा hclge_dev *hdev, bool en);
व्योम hclge_handle_all_hns_hw_errors(काष्ठा hnae3_ae_dev *ae_dev);
pci_ers_result_t hclge_handle_hw_ras_error(काष्ठा hnae3_ae_dev *ae_dev);
पूर्णांक hclge_handle_hw_msix_error(काष्ठा hclge_dev *hdev,
			       अचिन्हित दीर्घ *reset_requests);
#पूर्ण_अगर
