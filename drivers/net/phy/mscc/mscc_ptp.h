<शैली गुरु>
/* SPDX-License-Identअगरier: (GPL-2.0 OR MIT) */
/*
 * Driver क्रम Microsemi VSC85xx PHYs
 *
 * Copyright (c) 2020 Microsemi Corporation
 */

#अगर_अघोषित _MSCC_PHY_PTP_H_
#घोषणा _MSCC_PHY_PTP_H_

/* 1588 page Registers */
#घोषणा MSCC_PHY_TS_BIU_ADDR_CNTL	  16
#घोषणा BIU_ADDR_EXE			  0x8000
#घोषणा BIU_ADDR_READ			  0x4000
#घोषणा BIU_ADDR_WRITE			  0x0000
#घोषणा BIU_BLK_ID(x)			  ((x) << 11)
#घोषणा BIU_CSR_ADDR(x)			  (x)
#घोषणा BIU_ADDR_CNT_MAX		  8

#घोषणा MSCC_PHY_TS_CSR_DATA_LSB	  17
#घोषणा MSCC_PHY_TS_CSR_DATA_MSB	  18

#घोषणा MSCC_PHY_1588_INGR_VSC85XX_INT_STATUS  0x002d
#घोषणा MSCC_PHY_1588_VSC85XX_INT_STATUS  0x004d
#घोषणा VSC85XX_1588_INT_FIFO_ADD	  0x0004
#घोषणा VSC85XX_1588_INT_FIFO_OVERFLOW	  0x0001

#घोषणा MSCC_PHY_1588_INGR_VSC85XX_INT_MASK	  0x002e
#घोषणा MSCC_PHY_1588_VSC85XX_INT_MASK	  0x004e
#घोषणा VSC85XX_1588_INT_MASK_MASK	  (VSC85XX_1588_INT_FIFO_ADD | \
					   VSC85XX_1588_INT_FIFO_OVERFLOW)

/* TS CSR addresses */
#घोषणा MSCC_PHY_ANA_ETH1_NTX_PROT	  0x0000
#घोषणा ANA_ETH1_NTX_PROT_SIG_OFF_MASK	  GENMASK(20, 16)
#घोषणा ANA_ETH1_NTX_PROT_SIG_OFF(x)	  (((x) << 16) & ANA_ETH1_NTX_PROT_SIG_OFF_MASK)
#घोषणा ANA_ETH1_NTX_PROT_COMPARATOR_MASK GENMASK(2, 0)
#घोषणा ANA_ETH1_NTX_PROT_PTP_OAM	  0x0005
#घोषणा ANA_ETH1_NTX_PROT_MPLS		  0x0004
#घोषणा ANA_ETH1_NTX_PROT_IP_UDP_ACH_2	  0x0003
#घोषणा ANA_ETH1_NTX_PROT_IP_UDP_ACH_1	  0x0002
#घोषणा ANA_ETH1_NTX_PROT_ETH2		  0x0001

#घोषणा MSCC_PHY_PTP_IFACE_CTRL		  0x0000
#घोषणा PTP_IFACE_CTRL_CLK_ENA		  0x0040
#घोषणा PTP_IFACE_CTRL_INGR_BYPASS	  0x0008
#घोषणा PTP_IFACE_CTRL_EGR_BYPASS	  0x0004
#घोषणा PTP_IFACE_CTRL_MII_PROT		  0x0003
#घोषणा PTP_IFACE_CTRL_GMII_PROT	  0x0002
#घोषणा PTP_IFACE_CTRL_XGMII_64_PROT	  0x0000

#घोषणा MSCC_PHY_ANA_ETH1_NTX_PROT_VLAN_TPID	0x0001
#घोषणा ANA_ETH1_NTX_PROT_VLAN_TPID_MASK  GENMASK(31, 16)
#घोषणा ANA_ETH1_NTX_PROT_VLAN_TPID(x)	  (((x) << 16) & ANA_ETH1_NTX_PROT_VLAN_TPID_MASK)

#घोषणा MSCC_PHY_PTP_ANALYZER_MODE	  0x0001
#घोषणा PTP_ANA_SPLIT_ENCAP_FLOW	  0x1000000
#घोषणा PTP_ANA_EGR_ENCAP_FLOW_MODE_MASK  GENMASK(22, 20)
#घोषणा PTP_ANA_EGR_ENCAP_FLOW_MODE(x)	  (((x) << 20) & PTP_ANA_EGR_ENCAP_FLOW_MODE_MASK)
#घोषणा PTP_ANA_INGR_ENCAP_FLOW_MODE_MASK GENMASK(18, 16)
#घोषणा PTP_ANA_INGR_ENCAP_FLOW_MODE(x)	  (((x) << 16) & PTP_ANA_INGR_ENCAP_FLOW_MODE_MASK)
#घोषणा PTP_ANALYZER_MODE_EGR_ENA_MASK	  GENMASK(6, 4)
#घोषणा PTP_ANALYZER_MODE_EGR_ENA(x)	  (((x) << 4) & PTP_ANALYZER_MODE_EGR_ENA_MASK)
#घोषणा PTP_ANALYZER_MODE_INGR_ENA_MASK	  GENMASK(2, 0)
#घोषणा PTP_ANALYZER_MODE_INGR_ENA(x)	  ((x) & PTP_ANALYZER_MODE_INGR_ENA_MASK)

#घोषणा MSCC_PHY_ANA_ETH1_NXT_PROT_TAG	  0x0002
#घोषणा ANA_ETH1_NXT_PROT_TAG_ENA	  0x0001

#घोषणा MSCC_PHY_PTP_MODE_CTRL		  0x0002
#घोषणा PTP_MODE_CTRL_MODE_MASK		  GENMASK(2, 0)
#घोषणा PTP_MODE_CTRL_PKT_MODE		  0x0004

#घोषणा MSCC_PHY_ANA_ETH1_NXT_PROT_ETYPE_MATCH	0x0003
#घोषणा ANA_ETH1_NXT_PROT_ETYPE_MATCH_ENA 0x10000
#घोषणा ANA_ETH1_NXT_PROT_ETYPE_MATCH_MASK	GENMASK(15, 0)
#घोषणा ANA_ETH1_NXT_PROT_ETYPE_MATCH(x)  ((x) & ANA_ETH1_NXT_PROT_ETYPE_MATCH_MASK)

#घोषणा MSCC_PHY_PTP_VERSION_CODE	  0x0003
#घोषणा PTP_IP_VERSION_MASK		  GENMASK(7, 0)
#घोषणा PTP_IP_VERSION_2_1		  0x0021

#घोषणा MSCC_ANA_ETH1_FLOW_ENA(x)	  (0x0010 + ((x) << 4))
#घोषणा ETH1_FLOW_ENA_CHANNEL_MASK_MASK	  GENMASK(9, 8)
#घोषणा ETH1_FLOW_ENA_CHANNEL_MASK(x)	  (((x) << 8) & ETH1_FLOW_ENA_CHANNEL_MASK_MASK)
#घोषणा ETH1_FLOW_VALID_CH1	  ETH1_FLOW_ENA_CHANNEL_MASK(2)
#घोषणा ETH1_FLOW_VALID_CH0	  ETH1_FLOW_ENA_CHANNEL_MASK(1)
#घोषणा ETH1_FLOW_ENA			  0x0001

#घोषणा MSCC_ANA_ETH1_FLOW_MATCH_MODE(x)  (MSCC_ANA_ETH1_FLOW_ENA(x) + 1)
#घोषणा ANA_ETH1_FLOW_MATCH_VLAN_TAG_MASK GENMASK(7, 6)
#घोषणा ANA_ETH1_FLOW_MATCH_VLAN_TAG(x)	  (((x) << 6) & ANA_ETH1_FLOW_MATCH_VLAN_TAG_MASK)
#घोषणा ANA_ETH1_FLOW_MATCH_VLAN_TAG2	  0x0200
#घोषणा ANA_ETH1_FLOW_MATCH_VLAN_VERIFY	  0x0010

#घोषणा MSCC_ANA_ETH1_FLOW_ADDR_MATCH1(x) (MSCC_ANA_ETH1_FLOW_ENA(x) + 2)

#घोषणा MSCC_ANA_ETH1_FLOW_ADDR_MATCH2(x) (MSCC_ANA_ETH1_FLOW_ENA(x) + 3)
#घोषणा ANA_ETH1_FLOW_ADDR_MATCH2_MASK_MASK	GENMASK(22, 20)
#घोषणा ANA_ETH1_FLOW_ADDR_MATCH2_ANY_MULTICAST	0x400000
#घोषणा ANA_ETH1_FLOW_ADDR_MATCH2_FULL_ADDR	0x100000
#घोषणा ANA_ETH1_FLOW_ADDR_MATCH2_SRC_DEST_MASK	GENMASK(17, 16)
#घोषणा ANA_ETH1_FLOW_ADDR_MATCH2_SRC_DEST	0x020000
#घोषणा ANA_ETH1_FLOW_ADDR_MATCH2_SRC	  0x010000
#घोषणा ANA_ETH1_FLOW_ADDR_MATCH2_DEST	  0x000000

#घोषणा MSCC_ANA_ETH1_FLOW_VLAN_RANGE_I_TAG(x)	(MSCC_ANA_ETH1_FLOW_ENA(x) + 4)
#घोषणा MSCC_ANA_ETH1_FLOW_VLAN_TAG1(x)	  (MSCC_ANA_ETH1_FLOW_ENA(x) + 5)
#घोषणा MSCC_ANA_ETH1_FLOW_VLAN_TAG2_I_TAG(x)	(MSCC_ANA_ETH1_FLOW_ENA(x) + 6)

#घोषणा MSCC_PHY_PTP_LTC_CTRL		  0x0010
#घोषणा PTP_LTC_CTRL_CLK_SEL_MASK	  GENMASK(14, 12)
#घोषणा PTP_LTC_CTRL_CLK_SEL(x)		  (((x) << 12) & PTP_LTC_CTRL_CLK_SEL_MASK)
#घोषणा PTP_LTC_CTRL_CLK_SEL_INTERNAL_250 PTP_LTC_CTRL_CLK_SEL(5)
#घोषणा PTP_LTC_CTRL_AUTO_ADJ_UPDATE	  0x0010
#घोषणा PTP_LTC_CTRL_ADD_SUB_1NS_REQ	  0x0008
#घोषणा PTP_LTC_CTRL_ADD_1NS		  0x0004
#घोषणा PTP_LTC_CTRL_SAVE_ENA		  0x0002
#घोषणा PTP_LTC_CTRL_LOAD_ENA		  0x0001

#घोषणा MSCC_PHY_PTP_LTC_LOAD_SEC_MSB	  0x0011
#घोषणा PTP_LTC_LOAD_SEC_MSB(x)		  (((x) & GENMASK_ULL(47, 32)) >> 32)

#घोषणा MSCC_PHY_PTP_LTC_LOAD_SEC_LSB	  0x0012
#घोषणा PTP_LTC_LOAD_SEC_LSB(x)		  ((x) & GENMASK(31, 0))

#घोषणा MSCC_PHY_PTP_LTC_LOAD_NS	  0x0013
#घोषणा PTP_LTC_LOAD_NS(x)		  ((x) & GENMASK(31, 0))

#घोषणा MSCC_PHY_PTP_LTC_SAVED_SEC_MSB	  0x0014
#घोषणा MSCC_PHY_PTP_LTC_SAVED_SEC_LSB	  0x0015
#घोषणा MSCC_PHY_PTP_LTC_SAVED_NS	  0x0016

#घोषणा MSCC_PHY_PTP_LTC_SEQUENCE	  0x0017
#घोषणा PTP_LTC_SEQUENCE_A_MASK		  GENMASK(3, 0)
#घोषणा PTP_LTC_SEQUENCE_A(x)		  ((x) & PTP_LTC_SEQUENCE_A_MASK)

#घोषणा MSCC_PHY_PTP_LTC_SEQ		  0x0018
#घोषणा PTP_LTC_SEQ_ADD_SUB		  0x80000
#घोषणा PTP_LTC_SEQ_ERR_MASK		  GENMASK(18, 0)
#घोषणा PTP_LTC_SEQ_ERR(x)		  ((x) & PTP_LTC_SEQ_ERR_MASK)

#घोषणा MSCC_PHY_PTP_LTC_AUTO_ADJ	  0x001a
#घोषणा PTP_AUTO_ADJ_NS_ROLLOVER(x)	  ((x) & GENMASK(29, 0))
#घोषणा PTP_AUTO_ADJ_ADD_SUB_1NS_MASK	  GENMASK(31, 30)
#घोषणा PTP_AUTO_ADJ_SUB_1NS		  0x80000000
#घोषणा PTP_AUTO_ADJ_ADD_1NS		  0x40000000

#घोषणा MSCC_PHY_PTP_LTC_1PPS_WIDTH_ADJ	  0x001b
#घोषणा PTP_LTC_1PPS_WIDTH_ADJ_MASK	  GENMASK(29, 0)

#घोषणा MSCC_PHY_PTP_TSTAMP_FIFO_SI	  0x0020
#घोषणा PTP_TSTAMP_FIFO_SI_EN		  0x0001

#घोषणा MSCC_PHY_PTP_INGR_PREDICTOR	  0x0022
#घोषणा PTP_INGR_PREDICTOR_EN		  0x0001

#घोषणा MSCC_PHY_PTP_EGR_PREDICTOR	  0x0026
#घोषणा PTP_EGR_PREDICTOR_EN		  0x0001

#घोषणा MSCC_PHY_PTP_INGR_TSP_CTRL	  0x0035
#घोषणा PHY_PTP_INGR_TSP_CTRL_FRACT_NS	  0x0004
#घोषणा PHY_PTP_INGR_TSP_CTRL_LOAD_DELAYS 0x0001

#घोषणा MSCC_PHY_PTP_INGR_LOCAL_LATENCY	  0x0037
#घोषणा PTP_INGR_LOCAL_LATENCY_MASK	  GENMASK(22, 0)
#घोषणा PTP_INGR_LOCAL_LATENCY(x)	  ((x) & PTP_INGR_LOCAL_LATENCY_MASK)

#घोषणा MSCC_PHY_PTP_INGR_DELAY_FIFO	  0x003a
#घोषणा PTP_INGR_DELAY_FIFO_DEPTH_MACSEC  0x0013
#घोषणा PTP_INGR_DELAY_FIFO_DEPTH_DEFAULT 0x000f

#घोषणा MSCC_PHY_PTP_INGR_TS_FIFO(x)	  (0x005c + (x))
#घोषणा PTP_INGR_TS_FIFO_EMPTY		  0x80000000

#घोषणा MSCC_PHY_PTP_INGR_REWRITER_CTRL	  0x0044
#घोषणा PTP_INGR_REWRITER_REDUCE_PREAMBLE 0x0010
#घोषणा PTP_INGR_REWRITER_FLAG_VAL	  0x0008
#घोषणा PTP_INGR_REWRITER_FLAG_BIT_OFF_M  GENMASK(2, 0)
#घोषणा PTP_INGR_REWRITER_FLAG_BIT_OFF(x) ((x) & PTP_INGR_REWRITER_FLAG_BIT_OFF_M)

#घोषणा MSCC_PHY_PTP_EGR_STALL_LATENCY	  0x004f

#घोषणा MSCC_PHY_PTP_EGR_TSP_CTRL	  0x0055
#घोषणा PHY_PTP_EGR_TSP_CTRL_FRACT_NS	  0x0004
#घोषणा PHY_PTP_EGR_TSP_CTRL_LOAD_DELAYS  0x0001

#घोषणा MSCC_PHY_PTP_EGR_LOCAL_LATENCY	  0x0057
#घोषणा PTP_EGR_LOCAL_LATENCY_MASK	  GENMASK(22, 0)
#घोषणा PTP_EGR_LOCAL_LATENCY(x)	  ((x) & PTP_EGR_LOCAL_LATENCY_MASK)

#घोषणा MSCC_PHY_PTP_EGR_DELAY_FIFO	  0x005a
#घोषणा PTP_EGR_DELAY_FIFO_DEPTH_MACSEC	  0x0013
#घोषणा PTP_EGR_DELAY_FIFO_DEPTH_DEFAULT  0x000f

#घोषणा MSCC_PHY_PTP_EGR_TS_FIFO_CTRL	  0x005b
#घोषणा PTP_EGR_TS_FIFO_RESET		  0x10000
#घोषणा PTP_EGR_FIFO_LEVEL_LAST_READ_MASK GENMASK(15, 12)
#घोषणा PTP_EGR_FIFO_LEVEL_LAST_READ(x)	  (((x) & PTP_EGR_FIFO_LEVEL_LAST_READ_MASK) >> 12)
#घोषणा PTP_EGR_TS_FIFO_THRESH_MASK	  GENMASK(11, 8)
#घोषणा PTP_EGR_TS_FIFO_THRESH(x)	  (((x) << 8) & PTP_EGR_TS_FIFO_THRESH_MASK)
#घोषणा PTP_EGR_TS_FIFO_SIG_BYTES_MASK	  GENMASK(4, 0)
#घोषणा PTP_EGR_TS_FIFO_SIG_BYTES(x)	  ((x) & PTP_EGR_TS_FIFO_SIG_BYTES_MASK)

#घोषणा MSCC_PHY_PTP_EGR_TS_FIFO(x)	  (0x005c + (x))
#घोषणा PTP_EGR_TS_FIFO_EMPTY		  0x80000000
#घोषणा PTP_EGR_TS_FIFO_0_MASK		  GENMASK(15, 0)

#घोषणा MSCC_PHY_PTP_EGR_REWRITER_CTRL	  0x0064
#घोषणा PTP_EGR_REWRITER_REDUCE_PREAMBLE  0x0010
#घोषणा PTP_EGR_REWRITER_FLAG_VAL	  0x0008
#घोषणा PTP_EGR_REWRITER_FLAG_BIT_OFF_M   GENMASK(2, 0)
#घोषणा PTP_EGR_REWRITER_FLAG_BIT_OFF(x)  ((x) & PTP_EGR_REWRITER_FLAG_BIT_OFF_M)

#घोषणा MSCC_PHY_PTP_SERIAL_TOD_IFACE	  0x006e
#घोषणा PTP_SERIAL_TOD_IFACE_LS_AUTO_CLR  0x0004

#घोषणा MSCC_PHY_PTP_LTC_OFFSET		  0x0070
#घोषणा PTP_LTC_OFFSET_ADJ		  BIT(31)
#घोषणा PTP_LTC_OFFSET_ADD		  BIT(30)
#घोषणा PTP_LTC_OFFSET_VAL(x)		  (x)

#घोषणा MSCC_PHY_PTP_ACCUR_CFG_STATUS	  0x0074
#घोषणा PTP_ACCUR_PPS_OUT_CALIB_ERR	  0x20000
#घोषणा PTP_ACCUR_PPS_OUT_CALIB_DONE	  0x10000
#घोषणा PTP_ACCUR_PPS_IN_CALIB_ERR	  0x4000
#घोषणा PTP_ACCUR_PPS_IN_CALIB_DONE	  0x2000
#घोषणा PTP_ACCUR_EGR_SOF_CALIB_ERR	  0x1000
#घोषणा PTP_ACCUR_EGR_SOF_CALIB_DONE	  0x0800
#घोषणा PTP_ACCUR_INGR_SOF_CALIB_ERR	  0x0400
#घोषणा PTP_ACCUR_INGR_SOF_CALIB_DONE	  0x0200
#घोषणा PTP_ACCUR_LOAD_SAVE_CALIB_ERR	  0x0100
#घोषणा PTP_ACCUR_LOAD_SAVE_CALIB_DONE	  0x0080
#घोषणा PTP_ACCUR_CALIB_TRIGG		  0x0040
#घोषणा PTP_ACCUR_PPS_OUT_BYPASS	  0x0010
#घोषणा PTP_ACCUR_PPS_IN_BYPASS		  0x0008
#घोषणा PTP_ACCUR_EGR_SOF_BYPASS	  0x0004
#घोषणा PTP_ACCUR_INGR_SOF_BYPASS	  0x0002
#घोषणा PTP_ACCUR_LOAD_SAVE_BYPASS	  0x0001

#घोषणा MSCC_PHY_ANA_ETH2_NTX_PROT	  0x0090
#घोषणा ANA_ETH2_NTX_PROT_COMPARATOR_MASK GENMASK(2, 0)
#घोषणा ANA_ETH2_NTX_PROT_PTP_OAM	  0x0005
#घोषणा ANA_ETH2_NTX_PROT_MPLS		  0x0004
#घोषणा ANA_ETH2_NTX_PROT_IP_UDP_ACH_2	  0x0003
#घोषणा ANA_ETH2_NTX_PROT_IP_UDP_ACH_1	  0x0002
#घोषणा ANA_ETH2_NTX_PROT_ETH2		  0x0001

#घोषणा MSCC_PHY_ANA_ETH2_NXT_PROT_ETYPE_MATCH	0x0003
#घोषणा ANA_ETH2_NXT_PROT_ETYPE_MATCH_ENA 0x10000
#घोषणा ANA_ETH2_NXT_PROT_ETYPE_MATCH_MASK	GENMASK(15, 0)
#घोषणा ANA_ETH2_NXT_PROT_ETYPE_MATCH(x)  ((x) & ANA_ETH2_NXT_PROT_ETYPE_MATCH_MASK)

#घोषणा MSCC_ANA_ETH2_FLOW_ENA(x)	  (0x00a0 + ((x) << 4))
#घोषणा ETH2_FLOW_ENA_CHANNEL_MASK_MASK	  GENMASK(9, 8)
#घोषणा ETH2_FLOW_ENA_CHANNEL_MASK(x)	  (((x) << 8) & ETH2_FLOW_ENA_CHANNEL_MASK_MASK)
#घोषणा ETH2_FLOW_VALID_CH1	  ETH2_FLOW_ENA_CHANNEL_MASK(2)
#घोषणा ETH2_FLOW_VALID_CH0	  ETH2_FLOW_ENA_CHANNEL_MASK(1)

#घोषणा MSCC_PHY_ANA_MPLS_COMP_NXT_COMP	  0x0120
#घोषणा ANA_MPLS_NTX_PROT_COMPARATOR_MASK GENMASK(2, 0)
#घोषणा ANA_MPLS_NTX_PROT_PTP_OAM	  0x0005
#घोषणा ANA_MPLS_NTX_PROT_MPLS		  0x0004
#घोषणा ANA_MPLS_NTX_PROT_IP_UDP_ACH_2	  0x0003
#घोषणा ANA_MPLS_NTX_PROT_IP_UDP_ACH_1	  0x0002
#घोषणा ANA_MPLS_NTX_PROT_ETH2		  0x0001

#घोषणा MSCC_ANA_MPLS_FLOW_CTRL(x)	  (0x0130 + ((x) << 4))
#घोषणा MPLS_FLOW_CTRL_CHANNEL_MASK_MASK  GENMASK(25, 24)
#घोषणा MPLS_FLOW_CTRL_CHANNEL_MASK(x)	  (((x) << 24) & MPLS_FLOW_CTRL_CHANNEL_MASK_MASK)
#घोषणा MPLS_FLOW_VALID_CH1		  MPLS_FLOW_CTRL_CHANNEL_MASK(2)
#घोषणा MPLS_FLOW_VALID_CH0		  MPLS_FLOW_CTRL_CHANNEL_MASK(1)

#घोषणा MSCC_ANA_IP1_NXT_PROT_NXT_COMP	  0x01b0
#घोषणा ANA_IP1_NXT_PROT_NXT_COMP_BYTES_HDR_MASK	GENMASK(15, 8)
#घोषणा ANA_IP1_NXT_PROT_NXT_COMP_BYTES_HDR(x)	(((x) << 8) & ANA_IP1_NXT_PROT_NXT_COMP_BYTES_HDR_MASK)
#घोषणा ANA_IP1_NXT_PROT_NXT_COMP_PTP_OAM	0x0005
#घोषणा ANA_IP1_NXT_PROT_NXT_COMP_IP_UDP_ACH2	0x0003

#घोषणा MSCC_ANA_IP1_NXT_PROT_IP1_MODE	  0x01b1
#घोषणा ANA_IP1_NXT_PROT_FLOW_OFFSET_IPV4 0x0c00
#घोषणा ANA_IP1_NXT_PROT_FLOW_OFFSET_IPV6 0x0800
#घोषणा ANA_IP1_NXT_PROT_IPV6		  0x0001
#घोषणा ANA_IP1_NXT_PROT_IPV4		  0x0000

#घोषणा MSCC_ANA_IP1_NXT_PROT_IP_MATCH1	  0x01b2
#घोषणा ANA_IP1_NXT_PROT_IP_MATCH1_PROT_OFF_MASK	GENMASK(20, 16)
#घोषणा ANA_IP1_NXT_PROT_IP_MATCH1_PROT_OFF(x)	(((x) << 16) & ANA_IP1_NXT_PROT_IP_MATCH1_PROT_OFF_MASK)
#घोषणा ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MASK_MASK	GENMASK(15, 8)
#घोषणा ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MASK(x)	(((x) << 15) & ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MASK_MASK)
#घोषणा ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MATCH_MASK	GENMASK(7, 0)
#घोषणा ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MATCH(x)	((x) & ANA_IP1_NXT_PROT_IP_MATCH1_PROT_MATCH_MASK)

#घोषणा MSCC_ANA_IP1_NXT_PROT_MATCH2_UPPER	0x01b3
#घोषणा MSCC_ANA_IP1_NXT_PROT_MATCH2_LOWER	0x01b4
#घोषणा MSCC_ANA_IP1_NXT_PROT_MASK2_UPPER	0x01b5
#घोषणा MSCC_ANA_IP1_NXT_PROT_MASK2_LOWER	0x01b6

#घोषणा MSCC_ANA_IP1_NXT_PROT_OFFSET2	  0x01b7
#घोषणा ANA_IP1_NXT_PROT_OFFSET2_MASK	  GENMASK(6, 0)
#घोषणा ANA_IP1_NXT_PROT_OFFSET2(x)	  ((x) & ANA_IP1_NXT_PROT_OFFSET2_MASK)

#घोषणा MSCC_ANA_IP1_NXT_PROT_UDP_CHKSUM  0x01b8
#घोषणा IP1_NXT_PROT_UDP_CHKSUM_OFF_MASK  GENMASK(15, 8)
#घोषणा IP1_NXT_PROT_UDP_CHKSUM_OFF(x)	  (((x) << 8) & IP1_NXT_PROT_UDP_CHKSUM_OFF_MASK)
#घोषणा IP1_NXT_PROT_UDP_CHKSUM_WIDTH_MASK	GENMASK(5, 4)
#घोषणा IP1_NXT_PROT_UDP_CHKSUM_WIDTH(x)  (((x) << 4) & IP1_NXT_PROT_UDP_CHKSUM_WIDTH_MASK)
#घोषणा IP1_NXT_PROT_UDP_CHKSUM_UPDATE	  0x0002
#घोषणा IP1_NXT_PROT_UDP_CHKSUM_CLEAR	  0x0001

#घोषणा MSCC_ANA_IP1_FLOW_ENA(x)	  (0x01c0 + ((x) << 4))
#घोषणा IP1_FLOW_MATCH_ADDR_MASK	  GENMASK(9, 8)
#घोषणा IP1_FLOW_MATCH_DEST_SRC_ADDR	  0x0200
#घोषणा IP1_FLOW_MATCH_DEST_ADDR	  0x0100
#घोषणा IP1_FLOW_MATCH_SRC_ADDR		  0x0000
#घोषणा IP1_FLOW_ENA_CHANNEL_MASK_MASK	  GENMASK(5, 4)
#घोषणा IP1_FLOW_ENA_CHANNEL_MASK(x)	  (((x) << 4) & IP1_FLOW_ENA_CHANNEL_MASK_MASK)
#घोषणा IP1_FLOW_VALID_CH1		  IP1_FLOW_ENA_CHANNEL_MASK(2)
#घोषणा IP1_FLOW_VALID_CH0		  IP1_FLOW_ENA_CHANNEL_MASK(1)
#घोषणा IP1_FLOW_ENA			  0x0001

#घोषणा MSCC_ANA_OAM_PTP_FLOW_ENA(x)	  (0x1e0 + ((x) << 4))
#घोषणा MSCC_ANA_OAM_PTP_FLOW_MATCH_LOWER(x)	(MSCC_ANA_OAM_PTP_FLOW_ENA(x) + 2)
#घोषणा MSCC_ANA_OAM_PTP_FLOW_MASK_LOWER(x)	(MSCC_ANA_OAM_PTP_FLOW_ENA(x) + 4)

#घोषणा MSCC_ANA_OAM_PTP_FLOW_PTP_0_FIELD(x)	(MSCC_ANA_OAM_PTP_FLOW_ENA(x) + 8)

#घोषणा MSCC_ANA_IP1_FLOW_MATCH_UPPER(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 1)
#घोषणा MSCC_ANA_IP1_FLOW_MATCH_UPPER_MID(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 2)
#घोषणा MSCC_ANA_IP1_FLOW_MATCH_LOWER_MID(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 3)
#घोषणा MSCC_ANA_IP1_FLOW_MATCH_LOWER(x)  (MSCC_ANA_IP1_FLOW_ENA(x) + 4)
#घोषणा MSCC_ANA_IP1_FLOW_MASK_UPPER(x)	  (MSCC_ANA_IP1_FLOW_ENA(x) + 5)
#घोषणा MSCC_ANA_IP1_FLOW_MASK_UPPER_MID(x)	  (MSCC_ANA_IP1_FLOW_ENA(x) + 6)
#घोषणा MSCC_ANA_IP1_FLOW_MASK_LOWER_MID(x)	  (MSCC_ANA_IP1_FLOW_ENA(x) + 7)
#घोषणा MSCC_ANA_IP1_FLOW_MASK_LOWER(x)	  (MSCC_ANA_IP1_FLOW_ENA(x) + 8)

#घोषणा MSCC_ANA_IP2_NXT_PROT_NXT_COMP	  0x0240
#घोषणा ANA_IP2_NXT_PROT_NXT_COMP_BYTES_HDR_MASK	GENMASK(15, 8)
#घोषणा ANA_IP2_NXT_PROT_NXT_COMP_BYTES_HDR(x)	(((x) << 8) & ANA_IP2_NXT_PROT_NXT_COMP_BYTES_HDR_MASK)
#घोषणा ANA_IP2_NXT_PROT_NXT_COMP_PTP_OAM	0x0005
#घोषणा ANA_IP2_NXT_PROT_NXT_COMP_IP_UDP_ACH2	0x0003

#घोषणा MSCC_ANA_IP2_NXT_PROT_UDP_CHKSUM  0x0248
#घोषणा IP2_NXT_PROT_UDP_CHKSUM_OFF_MASK  GENMASK(15, 8)
#घोषणा IP2_NXT_PROT_UDP_CHKSUM_OFF(x)	  (((x) << 8) & IP2_NXT_PROT_UDP_CHKSUM_OFF_MASK)
#घोषणा IP2_NXT_PROT_UDP_CHKSUM_WIDTH_MASK  GENMASK(5, 4)
#घोषणा IP2_NXT_PROT_UDP_CHKSUM_WIDTH(x)  (((x) << 4) & IP2_NXT_PROT_UDP_CHKSUM_WIDTH_MASK)

#घोषणा MSCC_ANA_IP2_FLOW_ENA(x)	  (0x0250 + ((x) << 4))
#घोषणा IP2_FLOW_ENA_CHANNEL_MASK_MASK	  GENMASK(5, 4)
#घोषणा IP2_FLOW_ENA_CHANNEL_MASK(x)	  (((x) << 4) & IP2_FLOW_ENA_CHANNEL_MASK_MASK)
#घोषणा IP2_FLOW_VALID_CH1	  IP2_FLOW_ENA_CHANNEL_MASK(2)
#घोषणा IP2_FLOW_VALID_CH0	  IP2_FLOW_ENA_CHANNEL_MASK(1)

#घोषणा MSCC_ANA_PTP_FLOW_ENA(x)	  (0x02d0 + ((x) << 4))
#घोषणा PTP_FLOW_ENA_CHANNEL_MASK_MASK	  GENMASK(5, 4)
#घोषणा PTP_FLOW_ENA_CHANNEL_MASK(x)	  (((x) << 4) & PTP_FLOW_ENA_CHANNEL_MASK_MASK)
#घोषणा PTP_FLOW_VALID_CH1	  PTP_FLOW_ENA_CHANNEL_MASK(2)
#घोषणा PTP_FLOW_VALID_CH0	  PTP_FLOW_ENA_CHANNEL_MASK(1)
#घोषणा PTP_FLOW_ENA			  0x0001

#घोषणा MSCC_ANA_PTP_FLOW_MATCH_UPPER(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 1)
#घोषणा PTP_FLOW_MSG_TYPE_MASK		  0x0F000000
#घोषणा PTP_FLOW_MSG_PDELAY_RESP	  0x04000000
#घोषणा PTP_FLOW_MSG_PDELAY_REQ		  0x02000000
#घोषणा PTP_FLOW_MSG_DELAY_REQ		  0x01000000
#घोषणा PTP_FLOW_MSG_SYNC		  0x00000000

#घोषणा MSCC_ANA_PTP_FLOW_MATCH_LOWER(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 2)
#घोषणा MSCC_ANA_PTP_FLOW_MASK_UPPER(x)	  (MSCC_ANA_PTP_FLOW_ENA(x) + 3)
#घोषणा MSCC_ANA_PTP_FLOW_MASK_LOWER(x)	  (MSCC_ANA_PTP_FLOW_ENA(x) + 4)

#घोषणा MSCC_ANA_PTP_FLOW_DOMAIN_RANGE(x) (MSCC_ANA_PTP_FLOW_ENA(x) + 5)
#घोषणा PTP_FLOW_DOMAIN_RANGE_ENA	   0x0001

#घोषणा MSCC_ANA_PTP_FLOW_PTP_ACTION(x)	  (MSCC_ANA_PTP_FLOW_ENA(x) + 6)
#घोषणा PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_UPDATE	0x10000000
#घोषणा PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_BYTE_OFFSET_MASK	GENMASK(26, 24)
#घोषणा PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_BYTE_OFFSET(x)	(((x) << 24) & PTP_FLOW_PTP_ACTION_MOD_FRAME_STATUS_BYTE_OFFSET_MASK)
#घोषणा PTP_FLOW_PTP_ACTION_PTP_CMD_MASK  GENMASK(3, 0)
#घोषणा PTP_FLOW_PTP_ACTION_PTP_CMD(x)	  ((x) & PTP_FLOW_PTP_ACTION_PTP_CMD_MASK)
#घोषणा PTP_FLOW_PTP_ACTION_SUB_DELAY_ASYM	0x00200000
#घोषणा PTP_FLOW_PTP_ACTION_ADD_DELAY_ASYM	0x00100000
#घोषणा PTP_FLOW_PTP_ACTION_TIME_OFFSET_MASK	GENMASK(15, 10)
#घोषणा PTP_FLOW_PTP_ACTION_TIME_OFFSET(x)	(((x) << 10) & PTP_FLOW_PTP_ACTION_TIME_OFFSET_MASK)
#घोषणा PTP_FLOW_PTP_ACTION_CORR_OFFSET_MASK	GENMASK(9, 5)
#घोषणा PTP_FLOW_PTP_ACTION_CORR_OFFSET(x)	(((x) << 5) & PTP_FLOW_PTP_ACTION_CORR_OFFSET_MASK)
#घोषणा PTP_FLOW_PTP_ACTION_SAVE_LOCAL_TIME 0x00000010

#घोषणा MSCC_ANA_PTP_FLOW_PTP_ACTION2(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 7)
#घोषणा PTP_FLOW_PTP_ACTION2_REWRITE_OFFSET_MASK	GENMASK(15, 8)
#घोषणा PTP_FLOW_PTP_ACTION2_REWRITE_OFFSET(x)	(((x) << 8) & PTP_FLOW_PTP_ACTION2_REWRITE_OFFSET_MASK)
#घोषणा PTP_FLOW_PTP_ACTION2_REWRITE_BYTES_MASK	GENMASK(3, 0)
#घोषणा PTP_FLOW_PTP_ACTION2_REWRITE_BYTES(x)	((x) & PTP_FLOW_PTP_ACTION2_REWRITE_BYTES_MASK)

#घोषणा MSCC_ANA_PTP_FLOW_PTP_0_FIELD(x)  (MSCC_ANA_PTP_FLOW_ENA(x) + 8)
#घोषणा PTP_FLOW_PTP_0_FIELD_PTP_FRAME	  0x8000
#घोषणा PTP_FLOW_PTP_0_FIELD_RSVRD_CHECK  0x4000
#घोषणा PTP_FLOW_PTP_0_FIELD_OFFSET_MASK  GENMASK(13, 8)
#घोषणा PTP_FLOW_PTP_0_FIELD_OFFSET(x)	  (((x) << 8) & PTP_FLOW_PTP_0_FIELD_OFFSET_MASK)
#घोषणा PTP_FLOW_PTP_0_FIELD_BYTES_MASK	  GENMASK(3, 0)
#घोषणा PTP_FLOW_PTP_0_FIELD_BYTES(x)	  ((x) & PTP_FLOW_PTP_0_FIELD_BYTES_MASK)

#घोषणा MSCC_ANA_PTP_IP_CHKSUM_SEL	  0x0330
#घोषणा ANA_PTP_IP_CHKSUM_SEL_IP_COMP_2   0x0001
#घोषणा ANA_PTP_IP_CHKSUM_SEL_IP_COMP_1	  0x0000

#घोषणा MSCC_PHY_ANA_FSB_CFG		  0x331
#घोषणा ANA_FSB_ADDR_FROM_BLOCK_SEL_MASK  GENMASK(1, 0)
#घोषणा ANA_FSB_ADDR_FROM_IP2		  0x0003
#घोषणा ANA_FSB_ADDR_FROM_IP1		  0x0002
#घोषणा ANA_FSB_ADDR_FROM_ETH2		  0x0001
#घोषणा ANA_FSB_ADDR_FROM_ETH1		  0x0000

#घोषणा MSCC_PHY_ANA_FSB_REG(x)		  (0x332 + (x))

#घोषणा COMP_MAX_FLOWS			  8
#घोषणा PTP_COMP_MAX_FLOWS		  6

#घोषणा PPS_WIDTH_ADJ			  0x1dcd6500
#घोषणा STALL_EGR_LATENCY(x)		  (1536000 / (x))

/* PHC घड़ी available frequencies. */
क्रमागत अणु
	PHC_CLK_125MHZ,
	PHC_CLK_156_25MHZ,
	PHC_CLK_200MHZ,
	PHC_CLK_250MHZ,
	PHC_CLK_500MHZ,
पूर्ण;

क्रमागत ptp_cmd अणु
	PTP_NOP = 0,
	PTP_WRITE_1588 = 5,
	PTP_WRITE_NS = 7,
	PTP_SAVE_IN_TS_FIFO = 11, /* invalid when writing in reg */
पूर्ण;

काष्ठा vsc85xx_ptphdr अणु
	u8 tsmt; /* transportSpecअगरic | messageType */
	u8 ver;  /* reserved0 | versionPTP */
	__be16 msglen;
	u8 करोमुख्य;
	u8 rsrvd1;
	__be16 flags;
	__be64 correction;
	__be32 rsrvd2;
	__be64 clk_identity;
	__be16 src_port_id;
	__be16 seq_id;
	u8 ctrl;
	u8 log_पूर्णांकerval;
पूर्ण __attribute__((__packed__));

/* Represents an entry in the बारtamping FIFO */
काष्ठा vsc85xx_ts_fअगरo अणु
	u32 ns;
	u64 secs:48;
	u8 sig[16];
पूर्ण __attribute__((__packed__));

काष्ठा vsc85xx_ptp अणु
	काष्ठा phy_device *phydev;
	काष्ठा ptp_घड़ी *ptp_घड़ी;
	काष्ठा ptp_घड़ी_info caps;
	काष्ठा sk_buff_head tx_queue;
	क्रमागत hwtstamp_tx_types tx_type;
	क्रमागत hwtstamp_rx_filters rx_filter;
	u8 configured:1;
पूर्ण;

#पूर्ण_अगर /* _MSCC_PHY_PTP_H_ */
