<शैली गुरु>
// SPDX-License-Identअगरier: GPL-2.0-or-later
/*
 * Sonix sn9c102p sn9c105 sn9c120 (jpeg) subdriver
 *
 * Copyright (C) 2009-2011 Jean-Franथईois Moine <http://moinejf.मुक्त.fr>
 * Copyright (C) 2005 Michel Xhaard mxhaard@magic.fr
 */

#घोषणा pr_fmt(fmt) KBUILD_MODNAME ": " fmt

#घोषणा MODULE_NAME "sonixj"

#समावेश <linux/input.h>
#समावेश "gspca.h"
#समावेश "jpeg.h"

MODULE_AUTHOR("Jean-Franथईois Moine <http://moinejf.free.fr>");
MODULE_DESCRIPTION("GSPCA/SONIX JPEG USB Camera Driver");
MODULE_LICENSE("GPL");

/* specअगरic webcam descriptor */
काष्ठा sd अणु
	काष्ठा gspca_dev gspca_dev;	/* !! must be the first item */

	atomic_t avg_lum;
	काष्ठा v4l2_ctrl *brightness;
	काष्ठा v4l2_ctrl *contrast;
	काष्ठा v4l2_ctrl *saturation;
	काष्ठा अणु /* red/blue balance control cluster */
		काष्ठा v4l2_ctrl *red_bal;
		काष्ठा v4l2_ctrl *blue_bal;
	पूर्ण;
	काष्ठा अणु /* hflip/vflip control cluster */
		काष्ठा v4l2_ctrl *vflip;
		काष्ठा v4l2_ctrl *hflip;
	पूर्ण;
	काष्ठा v4l2_ctrl *gamma;
	काष्ठा v4l2_ctrl *illum;
	काष्ठा v4l2_ctrl *sharpness;
	काष्ठा v4l2_ctrl *freq;
	u32 exposure;

	काष्ठा work_काष्ठा work;

	u32 pktsz;			/* (used by pkt_scan) */
	u16 npkt;
	s8 nchg;
	s8 लघु_mark;

	u8 quality;			/* image quality */
#घोषणा QUALITY_MIN 25
#घोषणा QUALITY_MAX 90
#घोषणा QUALITY_DEF 70

	u8 reg01;
	u8 reg17;
	u8 reg18;
	u8 flags;

	s8 ag_cnt;
#घोषणा AG_CNT_START 13

	u8 bridge;
#घोषणा BRIDGE_SN9C102P 0
#घोषणा BRIDGE_SN9C105 1
#घोषणा BRIDGE_SN9C110 2
#घोषणा BRIDGE_SN9C120 3
	u8 sensor;			/* Type of image sensor chip */
	u8 i2c_addr;

	u8 jpeg_hdr[JPEG_HDR_SZ];
पूर्ण;
क्रमागत sensors अणु
	SENSOR_ADCM1700,
	SENSOR_GC0307,
	SENSOR_HV7131R,
	SENSOR_MI0360,
	SENSOR_MI0360B,
	SENSOR_MO4000,
	SENSOR_MT9V111,
	SENSOR_OM6802,
	SENSOR_OV7630,
	SENSOR_OV7648,
	SENSOR_OV7660,
	SENSOR_PO1030,
	SENSOR_PO2030N,
	SENSOR_SOI768,
	SENSOR_SP80708,
पूर्ण;

अटल व्योम qual_upd(काष्ठा work_काष्ठा *work);

/* device flags */
#घोषणा F_PDN_INV	0x01	/* inverse pin S_PWR_DN / sn_xxx tables */
#घोषणा F_ILLUM		0x02	/* presence of illuminator */

/* sn9c1xx definitions */
/* रेजिस्टर 0x01 */
#घोषणा S_PWR_DN	0x01	/* sensor घातer करोwn */
#घोषणा S_PDN_INV	0x02	/* inverse pin S_PWR_DN */
#घोषणा V_TX_EN		0x04	/* video transfer enable */
#घोषणा LED		0x08	/* output to pin LED */
#घोषणा SCL_SEL_OD	0x20	/* खोलो-drain mode */
#घोषणा SYS_SEL_48M	0x40	/* प्रणाली घड़ी 0: 24MHz, 1: 48MHz */
/* रेजिस्टर 0x17 */
#घोषणा MCK_SIZE_MASK	0x1f	/* sensor master घड़ी */
#घोषणा SEN_CLK_EN	0x20	/* enable sensor घड़ी */
#घोषणा DEF_EN		0x80	/* defect pixel by 0: soft, 1: hard */

अटल स्थिर काष्ठा v4l2_pix_क्रमmat cअगर_mode[] = अणु
	अणु352, 288, V4L2_PIX_FMT_JPEG, V4L2_FIELD_NONE,
		.bytesperline = 352,
		.sizeimage = 352 * 288 * 4 / 8 + 590,
		.colorspace = V4L2_COLORSPACE_JPEG,
		.priv = 0पूर्ण,
पूर्ण;
अटल स्थिर काष्ठा v4l2_pix_क्रमmat vga_mode[] = अणु
	अणु160, 120, V4L2_PIX_FMT_JPEG, V4L2_FIELD_NONE,
		.bytesperline = 160,
		.sizeimage = 160 * 120 * 4 / 8 + 590,
		.colorspace = V4L2_COLORSPACE_JPEG,
		.priv = 2पूर्ण,
	अणु320, 240, V4L2_PIX_FMT_JPEG, V4L2_FIELD_NONE,
		.bytesperline = 320,
		.sizeimage = 320 * 240 * 3 / 8 + 590,
		.colorspace = V4L2_COLORSPACE_JPEG,
		.priv = 1पूर्ण,
	अणु640, 480, V4L2_PIX_FMT_JPEG, V4L2_FIELD_NONE,
		.bytesperline = 640,
		/* Note 3 / 8 is not large enough, not even 5 / 8 is ?! */
		.sizeimage = 640 * 480 * 3 / 4 + 590,
		.colorspace = V4L2_COLORSPACE_JPEG,
		.priv = 0पूर्ण,
पूर्ण;

अटल स्थिर u8 sn_adcm1700[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x43,	0x60,	0x00,	0x1a,	0x00,	0x00,	0x00,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x80,	0x51,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x05,	0x01,	0x05,	0x16,	0x12,	0x42,
/*	reg18	reg19	reg1a	reg1b */
	0x06,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_gc0307[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x61,	0x62,	0x00,	0x1a,	0x00,	0x00,	0x00,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x80,	0x21,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x03,	0x01,	0x08,	0x28,	0x1e,	0x02,
/*	reg18	reg19	reg1a	reg1b */
	0x06,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_hv7131[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x03,	0x60,	0x00,	0x1a,	0x20,	0x20,	0x20,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x11,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x01,	0x03,	0x28,	0x1e,	0x41,
/*	reg18	reg19	reg1a	reg1b */
	0x0a,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_mi0360[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x63,	0x40,	0x00,	0x1a,	0x20,	0x20,	0x20,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x5d,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x02,	0x0a,	0x28,	0x1e,	0x61,
/*	reg18	reg19	reg1a	reg1b */
	0x06,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_mi0360b[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x61,	0x40,	0x00,	0x1a,	0x00,	0x00,	0x00,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x5d,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x02,	0x0a,	0x28,	0x1e,	0x40,
/*	reg18	reg19	reg1a	reg1b */
	0x06,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_mo4000[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x23,	0x60,	0x00,	0x1a,	0x00,	0x20,	0x18,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x21,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	 0x00,	0x0b,	0x0f,	0x14,	0x28,	0x1e,	0x40,
/*	reg18	reg19	reg1a	reg1b */
	0x08,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_mt9v111[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x61,	0x40,	0x00,	0x1a,	0x20,	0x20,	0x20,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x5c,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x02,	0x1c,	0x28,	0x1e,	0x40,
/*	reg18	reg19	reg1a	reg1b */
	0x06,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_om6802[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x23,	0x72,	0x00,	0x1a,	0x20,	0x20,	0x19,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x80,	0x34,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x51,	0x01,	0x00,	0x28,	0x1e,	0x40,
/*	reg18	reg19	reg1a	reg1b */
	0x05,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_ov7630[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x21,	0x40,	0x00,	0x1a,	0x00,	0x00,	0x00,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x21,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x04,	0x01,	0x0a,	0x28,	0x1e,	0xc2,
/*	reg18	reg19	reg1a	reg1b */
	0x0b,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_ov7648[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x63,	0x40,	0x00,	0x1a,	0x20,	0x20,	0x20,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x21,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x01,	0x00,	0x28,	0x1e,	0x00,
/*	reg18	reg19	reg1a	reg1b */
	0x0b,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_ov7660[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x61,	0x40,	0x00,	0x1a,	0x00,	0x00,	0x00,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x21,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x01,	0x01,	0x08,	0x28,	0x1e,	0x20,
/*	reg18	reg19	reg1a	reg1b */
	0x07,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_po1030[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x21,	0x62,	0x00,	0x1a,	0x20,	0x20,	0x20,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x6e,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x06,	0x06,	0x28,	0x1e,	0x00,
/*	reg18	reg19	reg1a	reg1b */
	0x07,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_po2030n[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x63,	0x40,	0x00,	0x1a,	0x00,	0x00,	0x00,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x6e,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x01,	0x14,	0x28,	0x1e,	0x00,
/*	reg18	reg19	reg1a	reg1b */
	0x07,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_soi768[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x21,	0x40,	0x00,	0x1a,	0x00,	0x00,	0x00,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x21,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x01,	0x08,	0x28,	0x1e,	0x00,
/*	reg18	reg19	reg1a	reg1b */
	0x07,	0x00,	0x00,	0x00
पूर्ण;

अटल स्थिर u8 sn_sp80708[0x1c] = अणु
/*	reg0	reg1	reg2	reg3	reg4	reg5	reg6	reg7 */
	0x00,	0x63,	0x60,	0x00,	0x1a,	0x20,	0x20,	0x20,
/*	reg8	reg9	rega	regb	regc	regd	rege	regf */
	0x81,	0x18,	0x00,	0x00,	0x00,	0x00,	0x00,	0x00,
/*	reg10	reg11	reg12	reg13	reg14	reg15	reg16	reg17 */
	0x03,	0x00,	0x00,	0x03,	0x04,	0x28,	0x1e,	0x00,
/*	reg18	reg19	reg1a	reg1b */
	0x07,	0x00,	0x00,	0x00
पूर्ण;

/* sequence specअगरic to the sensors - !! index = SENSOR_xxx */
अटल स्थिर u8 *sn_tb[] = अणु
[SENSOR_ADCM1700] =	sn_adcm1700,
[SENSOR_GC0307] =	sn_gc0307,
[SENSOR_HV7131R] =	sn_hv7131,
[SENSOR_MI0360] =	sn_mi0360,
[SENSOR_MI0360B] =	sn_mi0360b,
[SENSOR_MO4000] =	sn_mo4000,
[SENSOR_MT9V111] =	sn_mt9v111,
[SENSOR_OM6802] =	sn_om6802,
[SENSOR_OV7630] =	sn_ov7630,
[SENSOR_OV7648] =	sn_ov7648,
[SENSOR_OV7660] =	sn_ov7660,
[SENSOR_PO1030] =	sn_po1030,
[SENSOR_PO2030N] =	sn_po2030n,
[SENSOR_SOI768] =	sn_soi768,
[SENSOR_SP80708] =	sn_sp80708,
पूर्ण;

/* शेष gamma table */
अटल स्थिर u8 gamma_def[17] = अणु
	0x00, 0x2d, 0x46, 0x5a, 0x6c, 0x7c, 0x8b, 0x99,
	0xa6, 0xb2, 0xbf, 0xca, 0xd5, 0xe0, 0xeb, 0xf5, 0xff
पूर्ण;
/* gamma क्रम sensor ADCM1700 */
अटल स्थिर u8 gamma_spec_0[17] = अणु
	0x0f, 0x39, 0x5a, 0x74, 0x86, 0x95, 0xa6, 0xb4,
	0xbd, 0xc4, 0xcc, 0xd4, 0xd5, 0xde, 0xe4, 0xed, 0xf5
पूर्ण;
/* gamma क्रम sensors HV7131R and MT9V111 */
अटल स्थिर u8 gamma_spec_1[17] = अणु
	0x08, 0x3a, 0x52, 0x65, 0x75, 0x83, 0x91, 0x9d,
	0xa9, 0xb4, 0xbe, 0xc8, 0xd2, 0xdb, 0xe4, 0xed, 0xf5
पूर्ण;
/* gamma क्रम sensor GC0307 */
अटल स्थिर u8 gamma_spec_2[17] = अणु
	0x14, 0x37, 0x50, 0x6a, 0x7c, 0x8d, 0x9d, 0xab,
	0xb5, 0xbf, 0xc2, 0xcb, 0xd1, 0xd6, 0xdb, 0xe1, 0xeb
पूर्ण;
/* gamma क्रम sensor SP80708 */
अटल स्थिर u8 gamma_spec_3[17] = अणु
	0x0a, 0x2d, 0x4e, 0x68, 0x7d, 0x8f, 0x9f, 0xab,
	0xb7, 0xc2, 0xcc, 0xd3, 0xd8, 0xde, 0xe2, 0xe5, 0xe6
पूर्ण;

/* color matrix and offsets */
अटल स्थिर u8 reg84[] = अणु
	0x14, 0x00, 0x27, 0x00, 0x07, 0x00,	/* YR YG YB gains */
	0xe8, 0x0f, 0xda, 0x0f, 0x40, 0x00,	/* UR UG UB */
	0x3e, 0x00, 0xcd, 0x0f, 0xf7, 0x0f,	/* VR VG VB */
	0x00, 0x00, 0x00			/* YUV offsets */
पूर्ण;

#घोषणा DELAY	0xdd

अटल स्थिर u8 adcm1700_sensor_init[][8] = अणु
	अणु0xa0, 0x51, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x04, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण,	/* reset */
	अणुDELAY, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण,
	अणु0xb0, 0x51, 0x04, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण,
	अणु0xb0, 0x51, 0x0c, 0xe0, 0x2e, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x10, 0x02, 0x02, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x14, 0x0e, 0x0e, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x1c, 0x00, 0x80, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x20, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण,
	अणु0xb0, 0x51, 0x04, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण,
	अणु0xb0, 0x51, 0x04, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x51, 0xfe, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x14, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x32, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 adcm1700_sensor_param1[][8] = अणु
	अणु0xb0, 0x51, 0x26, 0xf9, 0x01, 0x00, 0x00, 0x10पूर्ण,	/* exposure? */
	अणु0xd0, 0x51, 0x1e, 0x8e, 0x8e, 0x8e, 0x8e, 0x10पूर्ण,

	अणु0xa0, 0x51, 0xfe, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x00, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x51, 0xfe, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x32, 0x00, 0x72, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd0, 0x51, 0x1e, 0xbe, 0xd7, 0xe8, 0xbe, 0x10पूर्ण,	/* exposure? */

	अणु0xa0, 0x51, 0xfe, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x00, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x51, 0xfe, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb0, 0x51, 0x32, 0x00, 0xa2, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 gc0307_sensor_init[][8] = अणु
	अणु0xa0, 0x21, 0x43, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x44, 0xa2, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x01, 0x6a, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x02, 0x70, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x10, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x11, 0x05, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x05, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x06, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x07, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x08, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x09, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x0a, 0xe8, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x0b, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x0c, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x0d, 0x22, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x0e, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x0f, 0xb2, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x12, 0x70, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /*delay 10ms*/
	अणु0xa0, 0x21, 0x13, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x15, 0xb8, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x16, 0x13, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x17, 0x52, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x18, 0x50, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x1e, 0x0d, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x1f, 0x32, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x61, 0x90, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x63, 0x70, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x65, 0x98, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x67, 0x90, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x03, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x04, 0x96, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x45, 0x27, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x47, 0x2c, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x43, 0x47, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x44, 0xd8, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 gc0307_sensor_param1[][8] = अणु
	अणु0xa0, 0x21, 0x68, 0x13, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd0, 0x21, 0x61, 0x80, 0x00, 0x80, 0x00, 0x10पूर्ण,
	अणु0xc0, 0x21, 0x65, 0x80, 0x00, 0x80, 0x00, 0x10पूर्ण,
	अणु0xc0, 0x21, 0x63, 0xa0, 0x00, 0xa6, 0x00, 0x10पूर्ण,
/*param3*/
	अणु0xa0, 0x21, 0x01, 0x6e, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x21, 0x02, 0x88, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 hv7131r_sensor_init[][8] = अणु
	अणु0xc1, 0x11, 0x01, 0x08, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x11, 0x34, 0x17, 0x7f, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x11, 0x40, 0xff, 0x7f, 0x7f, 0x7f, 0x10पूर्ण,
/*	अणु0x91, 0x11, 0x44, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, */
	अणु0xd1, 0x11, 0x10, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x11, 0x14, 0x01, 0xe2, 0x02, 0x82, 0x10पूर्ण,
/*	अणु0x91, 0x11, 0x18, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, */

	अणु0xa1, 0x11, 0x01, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x01, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xc1, 0x11, 0x25, 0x00, 0x61, 0xa8, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x30, 0x22, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xc1, 0x11, 0x31, 0x20, 0x2e, 0x20, 0x00, 0x10पूर्ण,
	अणु0xc1, 0x11, 0x25, 0x00, 0xc3, 0x50, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x30, 0x07, 0x00, 0x00, 0x00, 0x10पूर्ण, /* gain14 */
	अणु0xc1, 0x11, 0x31, 0x10, 0x10, 0x10, 0x00, 0x10पूर्ण, /* r g b 101a10 */

	अणु0xa1, 0x11, 0x01, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x20, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x21, 0xd0, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x22, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x23, 0x09, 0x00, 0x00, 0x00, 0x10पूर्ण,

	अणु0xa1, 0x11, 0x01, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x20, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x21, 0xd0, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x22, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x23, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x11, 0x01, 0x18, 0x00, 0x00, 0x00, 0x10पूर्ण,
							/* set sensor घड़ी */
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 mi0360_sensor_init[][8] = अणु
	अणु0xb1, 0x5d, 0x07, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x0d, 0x00, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x01, 0x00, 0x08, 0x00, 0x16, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x03, 0x01, 0xe2, 0x02, 0x82, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x05, 0x00, 0x09, 0x00, 0x53, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x0d, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x10, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x12, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x14, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x16, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x18, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x1a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x32, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x20, 0x91, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x22, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x24, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x26, 0x00, 0x00, 0x00, 0x24, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2f, 0xf7, 0xb0, 0x00, 0x04, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x31, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x33, 0x00, 0x00, 0x01, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x3d, 0x06, 0x8f, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x40, 0x01, 0xe0, 0x00, 0xd1, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x44, 0x00, 0x82, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x58, 0x00, 0x78, 0x00, 0x43, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x5a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x5c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x5e, 0x00, 0x00, 0xa3, 0x1d, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x62, 0x04, 0x11, 0x00, 0x00, 0x10पूर्ण,

	अणु0xb1, 0x5d, 0x20, 0x91, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x20, 0x11, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x09, 0x00, 0x64, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2b, 0x00, 0xa0, 0x00, 0xb0, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2d, 0x00, 0xa0, 0x00, 0xa0, 0x10पूर्ण,

	अणु0xb1, 0x5d, 0x0a, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण, /* sensor clck ?2 */
	अणु0xb1, 0x5d, 0x06, 0x00, 0x30, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x05, 0x00, 0x0a, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x09, 0x02, 0x35, 0x00, 0x00, 0x10पूर्ण, /* exposure 2 */

	अणु0xd1, 0x5d, 0x2b, 0x00, 0xb9, 0x00, 0xe3, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2d, 0x00, 0x5f, 0x00, 0xb9, 0x10पूर्ण, /* 42 */
/*	अणु0xb1, 0x5d, 0x35, 0x00, 0x67, 0x00, 0x00, 0x10पूर्ण, * gain orig */
/*	अणु0xb1, 0x5d, 0x35, 0x00, 0x20, 0x00, 0x00, 0x10पूर्ण, * gain */
	अणु0xb1, 0x5d, 0x07, 0x00, 0x03, 0x00, 0x00, 0x10पूर्ण, /* update */
	अणु0xb1, 0x5d, 0x07, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण, /* sensor on */
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 mi0360b_sensor_init[][8] = अणु
	अणु0xb1, 0x5d, 0x07, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x0d, 0x00, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /*delay 20ms*/
	अणु0xb1, 0x5d, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /*delay 20ms*/
	अणु0xd1, 0x5d, 0x01, 0x00, 0x08, 0x00, 0x16, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x03, 0x01, 0xe2, 0x02, 0x82, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x05, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x0d, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x10, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x12, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x14, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x16, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x18, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x1a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x32, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x20, 0x11, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x22, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x24, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x26, 0x00, 0x00, 0x00, 0x24, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2f, 0xf7, 0xb0, 0x00, 0x04, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x31, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x33, 0x00, 0x00, 0x01, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x3d, 0x06, 0x8f, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x40, 0x01, 0xe0, 0x00, 0xd1, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x44, 0x00, 0x82, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x58, 0x00, 0x78, 0x00, 0x43, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x5a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x5c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x5e, 0x00, 0x00, 0xa3, 0x1d, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x62, 0x04, 0x11, 0x00, 0x00, 0x10पूर्ण,

	अणु0xb1, 0x5d, 0x20, 0x11, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x20, 0x11, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x09, 0x00, 0x64, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2b, 0x00, 0x33, 0x00, 0xa0, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2d, 0x00, 0xa0, 0x00, 0x33, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 mi0360b_sensor_param1[][8] = अणु
	अणु0xb1, 0x5d, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x06, 0x00, 0x53, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x05, 0x00, 0x09, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x09, 0x02, 0x35, 0x00, 0x00, 0x10पूर्ण, /* exposure 2 */

	अणु0xd1, 0x5d, 0x2b, 0x00, 0xd1, 0x01, 0xc9, 0x10पूर्ण,
	अणु0xd1, 0x5d, 0x2d, 0x00, 0xed, 0x00, 0xd1, 0x10पूर्ण,
	अणु0xb1, 0x5d, 0x07, 0x00, 0x03, 0x00, 0x00, 0x10पूर्ण, /* update */
	अणु0xb1, 0x5d, 0x07, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण, /* sensor on */
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 mo4000_sensor_init[][8] = अणु
	अणु0xa1, 0x21, 0x01, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x02, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x03, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x04, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x05, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x05, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x06, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x06, 0x81, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x11, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x11, 0x20, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x11, 0x30, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x11, 0x38, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x11, 0x38, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x12, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x10, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x0f, 0x20, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x10, 0x20, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x11, 0x38, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 mt9v111_sensor_init[][8] = अणु
	अणु0xb1, 0x5c, 0x0d, 0x00, 0x01, 0x00, 0x00, 0x10पूर्ण, /* reset? */
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 20ms */
	अणु0xb1, 0x5c, 0x0d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x5c, 0x01, 0x00, 0x01, 0x00, 0x00, 0x10पूर्ण, /* IFP select */
	अणु0xb1, 0x5c, 0x08, 0x04, 0x80, 0x00, 0x00, 0x10पूर्ण, /* output fmt ctrl */
	अणु0xb1, 0x5c, 0x06, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* op mode ctrl */
	अणु0xb1, 0x5c, 0x01, 0x00, 0x04, 0x00, 0x00, 0x10पूर्ण, /* sensor select */
	अणु0xb1, 0x5c, 0x08, 0x00, 0x08, 0x00, 0x00, 0x10पूर्ण, /* row start */
	अणु0xb1, 0x5c, 0x02, 0x00, 0x16, 0x00, 0x00, 0x10पूर्ण, /* col start */
	अणु0xb1, 0x5c, 0x03, 0x01, 0xe7, 0x00, 0x00, 0x10पूर्ण, /* winकरोw height */
	अणु0xb1, 0x5c, 0x04, 0x02, 0x87, 0x00, 0x00, 0x10पूर्ण, /* winकरोw width */
	अणु0xb1, 0x5c, 0x07, 0x30, 0x02, 0x00, 0x00, 0x10पूर्ण, /* output ctrl */
	अणु0xb1, 0x5c, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* shutter delay */
	अणु0xb1, 0x5c, 0x12, 0x00, 0xb0, 0x00, 0x00, 0x10पूर्ण, /* zoom col start */
	अणु0xb1, 0x5c, 0x13, 0x00, 0x7c, 0x00, 0x00, 0x10पूर्ण, /* zoom row start */
	अणु0xb1, 0x5c, 0x1e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* digital zoom */
	अणु0xb1, 0x5c, 0x20, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* पढ़ो mode */
	अणु0xb1, 0x5c, 0x20, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 mt9v111_sensor_param1[][8] = अणु
	अणु0xd1, 0x5c, 0x2b, 0x00, 0x33, 0x00, 0xad, 0x10पूर्ण, /* G1 and B gains */
	अणु0xd1, 0x5c, 0x2d, 0x00, 0xad, 0x00, 0x33, 0x10पूर्ण, /* R and G2 gains */
	अणु0xb1, 0x5c, 0x06, 0x00, 0x40, 0x00, 0x00, 0x10पूर्ण, /* vert blanking */
	अणु0xb1, 0x5c, 0x05, 0x00, 0x09, 0x00, 0x00, 0x10पूर्ण, /* horiz blanking */
	अणु0xb1, 0x5c, 0x35, 0x01, 0xc0, 0x00, 0x00, 0x10पूर्ण, /* global gain */
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 om6802_init0[2][8] = अणु
/*fixme: variable*/
	अणु0xa0, 0x34, 0x29, 0x0e, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x34, 0x23, 0xb0, 0x00, 0x00, 0x00, 0x10पूर्ण,
पूर्ण;
अटल स्थिर u8 om6802_sensor_init[][8] = अणु
	अणु0xa0, 0x34, 0xdf, 0x6d, 0x00, 0x00, 0x00, 0x10पूर्ण,
						/* factory mode */
	अणु0xa0, 0x34, 0xdd, 0x18, 0x00, 0x00, 0x00, 0x10पूर्ण,
						/* output raw RGB */
	अणु0xa0, 0x34, 0x5a, 0xc0, 0x00, 0x00, 0x00, 0x10पूर्ण,
/*	अणु0xa0, 0x34, 0xfb, 0x11, 0x00, 0x00, 0x00, 0x10पूर्ण, */
	अणु0xa0, 0x34, 0xf0, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
		/* स्वतः-exposure speed (0) / white balance mode (स्वतः RGB) */
/*	अणु0xa0, 0x34, 0xf1, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
							 * set color mode */
/*	अणु0xa0, 0x34, 0xfe, 0x5b, 0x00, 0x00, 0x00, 0x10पूर्ण,
						 * max AGC value in AE */
/*	अणु0xa0, 0x34, 0xe5, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
							 * preset AGC */
/*	अणु0xa0, 0x34, 0xe6, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
						 * preset brightness */
/*	अणु0xa0, 0x34, 0xe7, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
							 * preset contrast */
/*	अणु0xa0, 0x34, 0xe8, 0x31, 0x00, 0x00, 0x00, 0x10पूर्ण,
							 * preset gamma */
	अणु0xa0, 0x34, 0xe9, 0x0f, 0x00, 0x00, 0x00, 0x10पूर्ण,
				/* luminance mode (0x4f -> AutoExpo on) */
	अणु0xa0, 0x34, 0xe4, 0xff, 0x00, 0x00, 0x00, 0x10पूर्ण,
							/* preset shutter */
/*	अणु0xa0, 0x34, 0xef, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
							 * स्वतः frame rate */
/*	अणु0xa0, 0x34, 0xfb, 0xee, 0x00, 0x00, 0x00, 0x10पूर्ण, */
	अणु0xa0, 0x34, 0x5d, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 om6802_sensor_param1[][8] = अणु
	अणु0xa0, 0x34, 0x71, 0x84, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x34, 0x72, 0x05, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x34, 0x68, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa0, 0x34, 0x69, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 ov7630_sensor_init[][8] = अणु
	अणु0xa1, 0x21, 0x76, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x12, 0xc8, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 20ms */
	अणु0xa1, 0x21, 0x12, 0x48, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x12, 0xc8, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 20ms */
	अणु0xa1, 0x21, 0x12, 0x48, 0x00, 0x00, 0x00, 0x10पूर्ण,
/* win: i2c_r from 00 to 80 */
	अणु0xd1, 0x21, 0x03, 0x80, 0x10, 0x20, 0x80, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x0c, 0x20, 0x20, 0x00, 0x00, 0x10पूर्ण,
/* HDG: 0x11 was 0x00 change to 0x01 क्रम better exposure (15 fps instead of 30)
	0x13 was 0xc0 change to 0xc3 क्रम स्वतः gain and exposure */
	अणु0xd1, 0x21, 0x11, 0x01, 0x48, 0xc3, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x15, 0x80, 0x03, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x17, 0x1b, 0xbd, 0x05, 0xf6, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x1b, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x1f, 0x00, 0x80, 0x80, 0x80, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x23, 0xde, 0x10, 0x8a, 0xa0, 0x10पूर्ण,
	अणु0xc1, 0x21, 0x27, 0xca, 0xa2, 0x74, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x2a, 0x88, 0x00, 0x88, 0x01, 0x10पूर्ण,
	अणु0xc1, 0x21, 0x2e, 0x80, 0x00, 0x18, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x21, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x22, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x2e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x32, 0xc2, 0x08, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x4c, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x60, 0x05, 0x40, 0x12, 0x57, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x64, 0x73, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x65, 0x00, 0x55, 0x01, 0xac, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x69, 0x38, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x6f, 0x1f, 0x01, 0x00, 0x10, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x73, 0x50, 0x20, 0x02, 0x01, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x77, 0xf3, 0x90, 0x98, 0x98, 0x10पूर्ण,
	अणु0xc1, 0x21, 0x7b, 0x00, 0x4c, 0xf7, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x17, 0x1b, 0xbd, 0x05, 0xf6, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x1b, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 ov7630_sensor_param1[][8] = अणु
	अणु0xa1, 0x21, 0x12, 0x48, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x12, 0x48, 0x00, 0x00, 0x00, 0x10पूर्ण,
/*fixme: + 0x12, 0x04*/
/*	अणु0xa1, 0x21, 0x75, 0x82, 0x00, 0x00, 0x00, 0x10पूर्ण,  * COMN
							 * set by setvflip */
	अणु0xa1, 0x21, 0x10, 0x32, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x01, 0x80, 0x80, 0x00, 0x00, 0x10पूर्ण,
/* */
/*	अणु0xa1, 0x21, 0x2a, 0x88, 0x00, 0x00, 0x00, 0x10पूर्ण, * set by setfreq */
/*	अणु0xa1, 0x21, 0x2b, 0x34, 0x00, 0x00, 0x00, 0x10पूर्ण, * set by setfreq */
/* */
	अणु0xa1, 0x21, 0x10, 0x83, 0x00, 0x00, 0x00, 0x10पूर्ण,
/*	अणु0xb1, 0x21, 0x01, 0x88, 0x70, 0x00, 0x00, 0x10पूर्ण, */
	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 ov7648_sensor_init[][8] = अणु
	अणु0xa1, 0x21, 0x76, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x12, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,	/* reset */
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 20ms */
	अणु0xa1, 0x21, 0x12, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x03, 0xa4, 0x30, 0x88, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x11, 0x80, 0x08, 0x00, 0x00, 0x10पूर्ण,
	अणु0xc1, 0x21, 0x13, 0xa0, 0x04, 0x84, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x17, 0x1a, 0x02, 0xba, 0xf4, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x1b, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x1f, 0x41, 0xc0, 0x80, 0x80, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x23, 0xde, 0xa0, 0x80, 0x32, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x27, 0xfe, 0xa0, 0x00, 0x91, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x2b, 0x00, 0x88, 0x85, 0x80, 0x10पूर्ण,
	अणु0xc1, 0x21, 0x2f, 0x9c, 0x00, 0xc4, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x60, 0xa6, 0x60, 0x88, 0x12, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x64, 0x88, 0x00, 0x00, 0x94, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x68, 0x7a, 0x0c, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x6c, 0x11, 0x33, 0x22, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x70, 0x11, 0x00, 0x10, 0x50, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x74, 0x20, 0x06, 0x00, 0xb5, 0x10पूर्ण,
	अणु0xd1, 0x21, 0x78, 0x8a, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x7c, 0x00, 0x43, 0x00, 0x00, 0x10पूर्ण,

	अणु0xd1, 0x21, 0x21, 0x86, 0x00, 0xde, 0xa0, 0x10पूर्ण,
/*	अणु0xd1, 0x21, 0x25, 0x80, 0x32, 0xfe, 0xa0, 0x10पूर्ण, jfm करोne */
/*	अणु0xd1, 0x21, 0x29, 0x00, 0x91, 0x00, 0x88, 0x10पूर्ण, jfm करोne */
/*	अणु0xb1, 0x21, 0x2d, 0x85, 0x00, 0x00, 0x00, 0x10पूर्ण, set by setfreq */
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 ov7648_sensor_param1[][8] = अणु
/*	अणु0xa1, 0x21, 0x12, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण, jfm करोne */
/*	अणु0xa1, 0x21, 0x75, 0x06, 0x00, 0x00, 0x00, 0x10पूर्ण,   * COMN
							 * set by setvflip */
	अणु0xa1, 0x21, 0x19, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x10, 0x32, 0x00, 0x00, 0x00, 0x10पूर्ण,
/*	अणु0xa1, 0x21, 0x16, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, jfm करोne */
/*	अणु0xa1, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,  * GAIN - def */
/*	अणु0xb1, 0x21, 0x01, 0x6c, 0x6c, 0x00, 0x00, 0x10पूर्ण,  * B R - def: 80 */
/*...*/
	अणु0xa1, 0x21, 0x11, 0x81, 0x00, 0x00, 0x00, 0x10पूर्ण, /* CLKRC */
/*	अणु0xa1, 0x21, 0x1e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, jfm करोne */
/*	अणु0xa1, 0x21, 0x16, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, jfm करोne */
/*	अणु0xa1, 0x21, 0x2a, 0x91, 0x00, 0x00, 0x00, 0x10पूर्ण, jfm करोne */
/*	अणु0xa1, 0x21, 0x2b, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, jfm करोne */
/*	अणु0xb1, 0x21, 0x01, 0x64, 0x84, 0x00, 0x00, 0x10पूर्ण,  * B R - def: 80 */

	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 ov7660_sensor_init[][8] = अणु
	अणु0xa1, 0x21, 0x12, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण, /* reset SCCB */
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 20ms */
	अणु0xa1, 0x21, 0x12, 0x05, 0x00, 0x00, 0x00, 0x10पूर्ण,
						/* Outक्रमmat = rawRGB */
	अणु0xa1, 0x21, 0x13, 0xb8, 0x00, 0x00, 0x00, 0x10पूर्ण, /* init COM8 */
	अणु0xd1, 0x21, 0x00, 0x01, 0x74, 0x92, 0x00, 0x10पूर्ण,
						/* GAIN BLUE RED VREF */
	अणु0xd1, 0x21, 0x04, 0x00, 0x7d, 0x62, 0x00, 0x10पूर्ण,
						/* COM 1 BAVE GEAVE AECHH */
	अणु0xb1, 0x21, 0x08, 0x83, 0x01, 0x00, 0x00, 0x10पूर्ण, /* RAVE COM2 */
	अणु0xd1, 0x21, 0x0c, 0x00, 0x08, 0x04, 0x4f, 0x10पूर्ण, /* COM 3 4 5 6 */
	अणु0xd1, 0x21, 0x10, 0x7f, 0x40, 0x05, 0xff, 0x10पूर्ण,
						/* AECH CLKRC COM7 COM8 */
	अणु0xc1, 0x21, 0x14, 0x2c, 0x00, 0x02, 0x00, 0x10पूर्ण, /* COM9 COM10 */
	अणु0xd1, 0x21, 0x17, 0x10, 0x60, 0x02, 0x7b, 0x10पूर्ण,
						/* HSTART HSTOP VSTRT VSTOP */
	अणु0xa1, 0x21, 0x1b, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण, /* PSHFT */
	अणु0xb1, 0x21, 0x1e, 0x01, 0x0e, 0x00, 0x00, 0x10पूर्ण, /* MVFP LAEC */
	अणु0xd1, 0x21, 0x20, 0x07, 0x07, 0x07, 0x07, 0x10पूर्ण,
					/* BOS GBOS GROS ROS (BGGR offset) */
/*	अणु0xd1, 0x21, 0x24, 0x68, 0x58, 0xd4, 0x80, 0x10पूर्ण, */
	अणु0xd1, 0x21, 0x24, 0x78, 0x68, 0xd4, 0x80, 0x10पूर्ण,
						/* AEW AEB VPT BBIAS */
	अणु0xd1, 0x21, 0x28, 0x80, 0x30, 0x00, 0x00, 0x10पूर्ण,
						/* GbBIAS RSVD EXHCH EXHCL */
	अणु0xd1, 0x21, 0x2c, 0x80, 0x00, 0x00, 0x62, 0x10पूर्ण,
						/* RBIAS ADVFL ASDVFH YAVE */
	अणु0xc1, 0x21, 0x30, 0x08, 0x30, 0xb4, 0x00, 0x10पूर्ण,
						/* HSYST HSYEN HREF */
	अणु0xd1, 0x21, 0x33, 0x00, 0x07, 0x84, 0x00, 0x10पूर्ण, /* reserved */
	अणु0xd1, 0x21, 0x37, 0x0c, 0x02, 0x43, 0x00, 0x10पूर्ण,
						/* ADC ACOM OFON TSLB */
	अणु0xd1, 0x21, 0x3b, 0x02, 0x6c, 0x19, 0x0e, 0x10पूर्ण,
						/* COM11 COM12 COM13 COM14 */
	अणु0xd1, 0x21, 0x3f, 0x41, 0xc1, 0x22, 0x08, 0x10पूर्ण,
						/* EDGE COM15 COM16 COM17 */
	अणु0xd1, 0x21, 0x43, 0xf0, 0x10, 0x78, 0xa8, 0x10पूर्ण, /* reserved */
	अणु0xd1, 0x21, 0x47, 0x60, 0x80, 0x00, 0x00, 0x10पूर्ण, /* reserved */
	अणु0xd1, 0x21, 0x4b, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* reserved */
	अणु0xd1, 0x21, 0x4f, 0x46, 0x36, 0x0f, 0x17, 0x10पूर्ण, /* MTX 1 2 3 4 */
	अणु0xd1, 0x21, 0x53, 0x7f, 0x96, 0x40, 0x40, 0x10पूर्ण, /* MTX 5 6 7 8 */
	अणु0xb1, 0x21, 0x57, 0x40, 0x0f, 0x00, 0x00, 0x10पूर्ण, /* MTX9 MTXS */
	अणु0xd1, 0x21, 0x59, 0xba, 0x9a, 0x22, 0xb9, 0x10पूर्ण, /* reserved */
	अणु0xd1, 0x21, 0x5d, 0x9b, 0x10, 0xf0, 0x05, 0x10पूर्ण, /* reserved */
	अणु0xa1, 0x21, 0x61, 0x60, 0x00, 0x00, 0x00, 0x10पूर्ण, /* reserved */
	अणु0xd1, 0x21, 0x62, 0x00, 0x00, 0x50, 0x30, 0x10पूर्ण,
						/* LCC1 LCC2 LCC3 LCC4 */
	अणु0xa1, 0x21, 0x66, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* LCC5 */
	अणु0xd1, 0x21, 0x67, 0x80, 0x7a, 0x90, 0x80, 0x10पूर्ण, /* MANU */
	अणु0xa1, 0x21, 0x6b, 0x0a, 0x00, 0x00, 0x00, 0x10पूर्ण,
					/* band gap reference [0:3] DBLV */
	अणु0xd1, 0x21, 0x6c, 0x30, 0x48, 0x80, 0x74, 0x10पूर्ण, /* gamma curve */
	अणु0xd1, 0x21, 0x70, 0x64, 0x60, 0x5c, 0x58, 0x10पूर्ण, /* gamma curve */
	अणु0xd1, 0x21, 0x74, 0x54, 0x4c, 0x40, 0x38, 0x10पूर्ण, /* gamma curve */
	अणु0xd1, 0x21, 0x78, 0x34, 0x30, 0x2f, 0x2b, 0x10पूर्ण, /* gamma curve */
	अणु0xd1, 0x21, 0x7c, 0x03, 0x07, 0x17, 0x34, 0x10पूर्ण, /* gamma curve */
	अणु0xd1, 0x21, 0x80, 0x41, 0x4d, 0x58, 0x63, 0x10पूर्ण, /* gamma curve */
	अणु0xd1, 0x21, 0x84, 0x6e, 0x77, 0x87, 0x95, 0x10पूर्ण, /* gamma curve */
	अणु0xc1, 0x21, 0x88, 0xaf, 0xc7, 0xdf, 0x00, 0x10पूर्ण, /* gamma curve */
	अणु0xc1, 0x21, 0x8b, 0x99, 0x99, 0xcf, 0x00, 0x10पूर्ण, /* reserved */
	अणु0xb1, 0x21, 0x92, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* DM_LNL/H */
/* not in all ms-win traces*/
	अणु0xa1, 0x21, 0xa1, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 ov7660_sensor_param1[][8] = अणु
	अणु0xa1, 0x21, 0x1e, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण, /* MVFP */
						/* bits[3..0]reserved */
	अणु0xa1, 0x21, 0x1e, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x03, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
						/* VREF vertical frame ctrl */
	अणु0xa1, 0x21, 0x03, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x10, 0x20, 0x00, 0x00, 0x00, 0x10पूर्ण, /* AECH 0x20 */
	अणु0xa1, 0x21, 0x2d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* ADVFL */
	अणु0xa1, 0x21, 0x2e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* ADVFH */
	अणु0xa1, 0x21, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x10पूर्ण, /* GAIN */
/*	अणु0xb1, 0x21, 0x01, 0x78, 0x78, 0x00, 0x00, 0x10पूर्ण, * BLUE */
/****** (some exchanges in the win trace) ******/
/*fixme:param2*/
	अणु0xa1, 0x21, 0x93, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,/* dummy line hight */
	अणु0xa1, 0x21, 0x92, 0x25, 0x00, 0x00, 0x00, 0x10पूर्ण, /* dummy line low */
	अणु0xa1, 0x21, 0x2a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* EXHCH */
	अणु0xa1, 0x21, 0x2b, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, /* EXHCL */
/*	अणु0xa1, 0x21, 0x02, 0x90, 0x00, 0x00, 0x00, 0x10पूर्ण,  * RED */
/****** (some exchanges in the win trace) ******/
/******!! startsensor KO अगर changed !!****/
/*fixme: param3*/
	अणु0xa1, 0x21, 0x93, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x92, 0xff, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x2a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x2b, 0xc3, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 po1030_sensor_init[][8] = अणु
/* the sensor रेजिस्टरs are described in m5602/m5602_po1030.h */
	अणु0xa1, 0x6e, 0x3f, 0x20, 0x00, 0x00, 0x00, 0x10पूर्ण, /* sensor reset */
	अणुDELAY, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 20ms */
	अणु0xa1, 0x6e, 0x3f, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x3e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x04, 0x02, 0xb1, 0x02, 0x39, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x08, 0x00, 0x01, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x0c, 0x02, 0x7f, 0x01, 0xe0, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x12, 0x03, 0x02, 0x00, 0x03, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x16, 0x85, 0x40, 0x4a, 0x40, 0x10पूर्ण, /* r/g1/b/g2 gains */
	अणु0xc1, 0x6e, 0x1a, 0x00, 0x80, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x1d, 0x08, 0x03, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x23, 0x00, 0xb0, 0x00, 0x94, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x27, 0x58, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x6e, 0x2b, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x2d, 0x14, 0x35, 0x61, 0x84, 0x10पूर्ण, /* gamma corr */
	अणु0xd1, 0x6e, 0x31, 0xa2, 0xbd, 0xd8, 0xff, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x35, 0x06, 0x1e, 0x12, 0x02, 0x10पूर्ण, /* color matrix */
	अणु0xd1, 0x6e, 0x39, 0xaa, 0x53, 0x37, 0xd5, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x3d, 0xf2, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x3e, 0x00, 0x00, 0x80, 0x03, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x42, 0x03, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xc1, 0x6e, 0x46, 0x00, 0x80, 0x80, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x4b, 0x02, 0xef, 0x08, 0xcd, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x4f, 0x00, 0xd0, 0x00, 0xa0, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x53, 0x01, 0xaa, 0x01, 0x40, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x5a, 0x50, 0x04, 0x30, 0x03, 0x10पूर्ण, /* raw rgb bayer */
	अणु0xa1, 0x6e, 0x5e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x5f, 0x10, 0x40, 0xff, 0x00, 0x10पूर्ण,

	अणु0xd1, 0x6e, 0x63, 0x40, 0x40, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x67, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x6b, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x6f, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xc1, 0x6e, 0x73, 0x10, 0x80, 0xeb, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 po1030_sensor_param1[][8] = अणु
/* from ms-win traces - these values change with स्वतः gain/expo/wb.. */
	अणु0xa1, 0x6e, 0x1e, 0x03, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x1e, 0x03, 0x00, 0x00, 0x00, 0x10पूर्ण,
/* mean values */
	अणु0xc1, 0x6e, 0x1a, 0x02, 0xd4, 0xa4, 0x00, 0x10पूर्ण, /* पूर्णांकeglines */
	अणु0xa1, 0x6e, 0x15, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण, /* global gain */
	अणु0xc1, 0x6e, 0x16, 0x40, 0x40, 0x40, 0x00, 0x10पूर्ण, /* r/g1/b gains */

	अणु0xa1, 0x6e, 0x1d, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण, /* control1 */
	अणु0xa1, 0x6e, 0x06, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण, /* frameheight */
	अणु0xa1, 0x6e, 0x07, 0xd5, 0x00, 0x00, 0x00, 0x10पूर्ण,
/*	अणु0xc1, 0x6e, 0x16, 0x49, 0x40, 0x45, 0x00, 0x10पूर्ण, */
	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 po2030n_sensor_init[][8] = अणु
	अणु0xa1, 0x6e, 0x1e, 0x1a, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x1f, 0x99, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 10ms */
	अणु0xa1, 0x6e, 0x1e, 0x0a, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x1f, 0x19, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 10ms */
	अणु0xa1, 0x6e, 0x20, 0x44, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x04, 0x03, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x05, 0x70, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x06, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x07, 0x25, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x08, 0x00, 0xd0, 0x00, 0x08, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x0c, 0x03, 0x50, 0x01, 0xe8, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x1d, 0x20, 0x0a, 0x19, 0x44, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x21, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x25, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x29, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x2d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x31, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x35, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x39, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x3d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x41, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x45, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x49, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x4d, 0x00, 0x00, 0x00, 0xed, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x51, 0x17, 0x4a, 0x2f, 0xc0, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x55, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x59, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x5d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x61, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x65, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x69, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x6d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x71, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x75, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x79, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x7d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x81, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x85, 0x00, 0x00, 0x00, 0x08, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x89, 0x01, 0xe8, 0x00, 0x01, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x8d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x21, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x25, 0x00, 0x00, 0x00, 0x01, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x29, 0xe6, 0x00, 0xbd, 0x03, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x2d, 0x41, 0x38, 0x68, 0x40, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x31, 0x2b, 0x00, 0x36, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x35, 0x30, 0x30, 0x08, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x39, 0x00, 0x00, 0x33, 0x06, 0x10पूर्ण,
	अणु0xb1, 0x6e, 0x3d, 0x06, 0x02, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 po2030n_sensor_param1[][8] = अणु
	अणु0xa1, 0x6e, 0x1a, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुDELAY, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 8ms */
	अणु0xa1, 0x6e, 0x1b, 0xf4, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x15, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xd1, 0x6e, 0x16, 0x40, 0x40, 0x40, 0x40, 0x10पूर्ण, /* RGBG gains */
/*param2*/
	अणु0xa1, 0x6e, 0x1d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x04, 0x03, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x05, 0x6f, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x06, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x6e, 0x07, 0x25, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 soi768_sensor_init[][8] = अणु
	अणु0xa1, 0x21, 0x12, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण, /* reset */
	अणुDELAY, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00पूर्ण, /* delay 96ms */
	अणु0xa1, 0x21, 0x12, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x13, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x0f, 0x03, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x19, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 soi768_sensor_param1[][8] = अणु
	अणु0xa1, 0x21, 0x10, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x2d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x2e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x01, 0x7f, 0x7f, 0x00, 0x00, 0x10पूर्ण,
/* */
/*	अणु0xa1, 0x21, 0x2e, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, */
/*	अणु0xa1, 0x21, 0x2d, 0x25, 0x00, 0x00, 0x00, 0x10पूर्ण, */
	अणु0xa1, 0x21, 0x2b, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
/*	अणु0xb1, 0x21, 0x2d, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण, */
	अणु0xa1, 0x21, 0x02, 0x8d, 0x00, 0x00, 0x00, 0x10पूर्ण,
/* the next sequence should be used क्रम स्वतः gain */
	अणु0xa1, 0x21, 0x00, 0x07, 0x00, 0x00, 0x00, 0x10पूर्ण,
			/* global gain ? : 07 - change with 0x15 at the end */
	अणु0xa1, 0x21, 0x10, 0x3f, 0x00, 0x00, 0x00, 0x10पूर्ण, /* ???? : 063f */
	अणु0xa1, 0x21, 0x04, 0x06, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x21, 0x2d, 0x63, 0x03, 0x00, 0x00, 0x10पूर्ण,
			/* exposure ? : 0200 - change with 0x1e at the end */
	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 sp80708_sensor_init[][8] = अणु
	अणु0xa1, 0x18, 0x06, 0xf9, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x09, 0x1f, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x0a, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x0d, 0xc0, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x0c, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x0f, 0x0f, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x10, 0x40, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x11, 0x4e, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x12, 0x53, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x15, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x18, 0x18, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x19, 0x18, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x1a, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x1b, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x1c, 0x28, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x1d, 0x02, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x1e, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x26, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x27, 0x1e, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x28, 0x5a, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x29, 0x28, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x2a, 0x78, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x2b, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x2c, 0xf7, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x2d, 0x2d, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x2e, 0xd5, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x39, 0x42, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x3a, 0x67, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x3b, 0x87, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x3c, 0xa3, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x3d, 0xb0, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x3e, 0xbc, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x3f, 0xc8, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x40, 0xd4, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x41, 0xdf, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x42, 0xea, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x43, 0xf5, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x45, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x46, 0x60, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x47, 0x50, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x48, 0x30, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x49, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x4d, 0xae, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x4e, 0x03, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x4f, 0x66, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x50, 0x1c, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x44, 0x10, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x4a, 0x30, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x51, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x52, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x53, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x54, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x55, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x56, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x57, 0xe0, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x58, 0xc0, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x59, 0xab, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x5a, 0xa0, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x5b, 0x99, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x5c, 0x90, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x5e, 0x24, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x5f, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x60, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x61, 0x73, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x63, 0x42, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x64, 0x42, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x65, 0x42, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x66, 0x24, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x67, 0x24, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x68, 0x08, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x2f, 0xc9, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;
अटल स्थिर u8 sp80708_sensor_param1[][8] = अणु
	अणु0xa1, 0x18, 0x0c, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x0c, 0x04, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x03, 0x01, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x04, 0xa4, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x14, 0x3f, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xa1, 0x18, 0x5d, 0x80, 0x00, 0x00, 0x00, 0x10पूर्ण,
	अणु0xb1, 0x18, 0x11, 0x40, 0x40, 0x00, 0x00, 0x10पूर्ण,
	अणुपूर्ण
पूर्ण;

अटल स्थिर u8 (*sensor_init[])[8] = अणु
[SENSOR_ADCM1700] =	adcm1700_sensor_init,
[SENSOR_GC0307] =	gc0307_sensor_init,
[SENSOR_HV7131R] =	hv7131r_sensor_init,
[SENSOR_MI0360] =	mi0360_sensor_init,
[SENSOR_MI0360B] =	mi0360b_sensor_init,
[SENSOR_MO4000] =	mo4000_sensor_init,
[SENSOR_MT9V111] =	mt9v111_sensor_init,
[SENSOR_OM6802] =	om6802_sensor_init,
[SENSOR_OV7630] =	ov7630_sensor_init,
[SENSOR_OV7648] =	ov7648_sensor_init,
[SENSOR_OV7660] =	ov7660_sensor_init,
[SENSOR_PO1030] =	po1030_sensor_init,
[SENSOR_PO2030N] =	po2030n_sensor_init,
[SENSOR_SOI768] =	soi768_sensor_init,
[SENSOR_SP80708] =	sp80708_sensor_init,
पूर्ण;

/* पढ़ो <len> bytes to gspca_dev->usb_buf */
अटल व्योम reg_r(काष्ठा gspca_dev *gspca_dev,
		  u16 value, पूर्णांक len)
अणु
	पूर्णांक ret;

	अगर (gspca_dev->usb_err < 0)
		वापस;
	अगर (len > USB_BUF_SZ) अणु
		gspca_err(gspca_dev, "reg_r: buffer overflow\n");
		वापस;
	पूर्ण

	ret = usb_control_msg(gspca_dev->dev,
			usb_rcvctrlpipe(gspca_dev->dev, 0),
			0,
			USB_सूची_IN | USB_TYPE_VENDOR | USB_RECIP_INTERFACE,
			value, 0,
			gspca_dev->usb_buf, len,
			500);
	gspca_dbg(gspca_dev, D_USBI, "reg_r [%02x] -> %02x\n",
		  value, gspca_dev->usb_buf[0]);
	अगर (ret < 0) अणु
		pr_err("reg_r err %d\n", ret);
		gspca_dev->usb_err = ret;
		/*
		 * Make sure the buffer is zeroed to aव्योम uninitialized
		 * values.
		 */
		स_रखो(gspca_dev->usb_buf, 0, USB_BUF_SZ);
	पूर्ण
पूर्ण

अटल व्योम reg_w1(काष्ठा gspca_dev *gspca_dev,
		   u16 value,
		   u8 data)
अणु
	पूर्णांक ret;

	अगर (gspca_dev->usb_err < 0)
		वापस;
	gspca_dbg(gspca_dev, D_USBO, "reg_w1 [%04x] = %02x\n", value, data);
	gspca_dev->usb_buf[0] = data;
	ret = usb_control_msg(gspca_dev->dev,
			usb_sndctrlpipe(gspca_dev->dev, 0),
			0x08,
			USB_सूची_OUT | USB_TYPE_VENDOR | USB_RECIP_INTERFACE,
			value,
			0,
			gspca_dev->usb_buf, 1,
			500);
	अगर (ret < 0) अणु
		pr_err("reg_w1 err %d\n", ret);
		gspca_dev->usb_err = ret;
	पूर्ण
पूर्ण
अटल व्योम reg_w(काष्ठा gspca_dev *gspca_dev,
			  u16 value,
			  स्थिर u8 *buffer,
			  पूर्णांक len)
अणु
	पूर्णांक ret;

	अगर (gspca_dev->usb_err < 0)
		वापस;
	gspca_dbg(gspca_dev, D_USBO, "reg_w [%04x] = %02x %02x ..\n",
		  value, buffer[0], buffer[1]);

	अगर (len > USB_BUF_SZ) अणु
		gspca_err(gspca_dev, "reg_w: buffer overflow\n");
		वापस;
	पूर्ण

	स_नकल(gspca_dev->usb_buf, buffer, len);
	ret = usb_control_msg(gspca_dev->dev,
			usb_sndctrlpipe(gspca_dev->dev, 0),
			0x08,
			USB_सूची_OUT | USB_TYPE_VENDOR | USB_RECIP_INTERFACE,
			value, 0,
			gspca_dev->usb_buf, len,
			500);
	अगर (ret < 0) अणु
		pr_err("reg_w err %d\n", ret);
		gspca_dev->usb_err = ret;
	पूर्ण
पूर्ण

/* I2C ग_लिखो 1 byte */
अटल व्योम i2c_w1(काष्ठा gspca_dev *gspca_dev, u8 reg, u8 val)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	पूर्णांक ret;

	अगर (gspca_dev->usb_err < 0)
		वापस;
	gspca_dbg(gspca_dev, D_USBO, "i2c_w1 [%02x] = %02x\n", reg, val);
	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
	हाल SENSOR_OM6802:
	हाल SENSOR_GC0307:		/* i2c command = a0 (100 kHz) */
		gspca_dev->usb_buf[0] = 0x80 | (2 << 4);
		अवरोध;
	शेष:			/* i2c command = a1 (400 kHz) */
		gspca_dev->usb_buf[0] = 0x81 | (2 << 4);
		अवरोध;
	पूर्ण
	gspca_dev->usb_buf[1] = sd->i2c_addr;
	gspca_dev->usb_buf[2] = reg;
	gspca_dev->usb_buf[3] = val;
	gspca_dev->usb_buf[4] = 0;
	gspca_dev->usb_buf[5] = 0;
	gspca_dev->usb_buf[6] = 0;
	gspca_dev->usb_buf[7] = 0x10;
	ret = usb_control_msg(gspca_dev->dev,
			usb_sndctrlpipe(gspca_dev->dev, 0),
			0x08,
			USB_सूची_OUT | USB_TYPE_VENDOR | USB_RECIP_INTERFACE,
			0x08,			/* value = i2c */
			0,
			gspca_dev->usb_buf, 8,
			500);
	msleep(2);
	अगर (ret < 0) अणु
		pr_err("i2c_w1 err %d\n", ret);
		gspca_dev->usb_err = ret;
	पूर्ण
पूर्ण

/* I2C ग_लिखो 8 bytes */
अटल व्योम i2c_w8(काष्ठा gspca_dev *gspca_dev,
		   स्थिर u8 *buffer)
अणु
	पूर्णांक ret;

	अगर (gspca_dev->usb_err < 0)
		वापस;
	gspca_dbg(gspca_dev, D_USBO, "i2c_w8 [%02x] = %02x ..\n",
		  buffer[2], buffer[3]);
	स_नकल(gspca_dev->usb_buf, buffer, 8);
	ret = usb_control_msg(gspca_dev->dev,
			usb_sndctrlpipe(gspca_dev->dev, 0),
			0x08,
			USB_सूची_OUT | USB_TYPE_VENDOR | USB_RECIP_INTERFACE,
			0x08, 0,		/* value, index */
			gspca_dev->usb_buf, 8,
			500);
	msleep(2);
	अगर (ret < 0) अणु
		pr_err("i2c_w8 err %d\n", ret);
		gspca_dev->usb_err = ret;
	पूर्ण
पूर्ण

/* sensor पढ़ो 'len' (1..5) bytes in gspca_dev->usb_buf */
अटल व्योम i2c_r(काष्ठा gspca_dev *gspca_dev, u8 reg, पूर्णांक len)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	u8 mode[8];

	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
	हाल SENSOR_OM6802:
	हाल SENSOR_GC0307:		/* i2c command = a0 (100 kHz) */
		mode[0] = 0x80 | 0x10;
		अवरोध;
	शेष:			/* i2c command = 91 (400 kHz) */
		mode[0] = 0x81 | 0x10;
		अवरोध;
	पूर्ण
	mode[1] = sd->i2c_addr;
	mode[2] = reg;
	mode[3] = 0;
	mode[4] = 0;
	mode[5] = 0;
	mode[6] = 0;
	mode[7] = 0x10;
	i2c_w8(gspca_dev, mode);
	msleep(2);
	mode[0] = (mode[0] & 0x81) | (len << 4) | 0x02;
	mode[2] = 0;
	i2c_w8(gspca_dev, mode);
	msleep(2);
	reg_r(gspca_dev, 0x0a, 5);
पूर्ण

अटल व्योम i2c_w_seq(काष्ठा gspca_dev *gspca_dev,
			स्थिर u8 (*data)[8])
अणु
	जबतक ((*data)[0] != 0) अणु
		अगर ((*data)[0] != DELAY)
			i2c_w8(gspca_dev, *data);
		अन्यथा
			msleep((*data)[1]);
		data++;
	पूर्ण
पूर्ण

/* check the ID of the hv7131 sensor */
/* this sequence is needed because it activates the sensor */
अटल व्योम hv7131r_probe(काष्ठा gspca_dev *gspca_dev)
अणु
	i2c_w1(gspca_dev, 0x02, 0);		/* sensor wakeup */
	msleep(10);
	reg_w1(gspca_dev, 0x02, 0x66);		/* Gpio on */
	msleep(10);
	i2c_r(gspca_dev, 0, 5);			/* पढ़ो sensor id */
	अगर (gspca_dev->usb_buf[0] == 0x02	/* chip ID (02 is R) */
	    && gspca_dev->usb_buf[1] == 0x09
	    && gspca_dev->usb_buf[2] == 0x01) अणु
		gspca_dbg(gspca_dev, D_PROBE, "Sensor HV7131R found\n");
		वापस;
	पूर्ण
	pr_warn("Erroneous HV7131R ID 0x%02x 0x%02x 0x%02x\n",
		gspca_dev->usb_buf[0], gspca_dev->usb_buf[1],
		gspca_dev->usb_buf[2]);
पूर्ण

अटल व्योम mi0360_probe(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	पूर्णांक i, j;
	u16 val = 0;
	अटल स्थिर u8 probe_tb[][4][8] = अणु
	    अणु					/* mi0360 */
		अणु0xb0, 0x5d, 0x07, 0x00, 0x02, 0x00, 0x00, 0x10पूर्ण,
		अणु0x90, 0x5d, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
		अणु0xa2, 0x5d, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
		अणु0xb0, 0x5d, 0x07, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण
	    पूर्ण,
	    अणु					/* mt9v111 */
		अणु0xb0, 0x5c, 0x01, 0x00, 0x04, 0x00, 0x00, 0x10पूर्ण,
		अणु0x90, 0x5c, 0x36, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
		अणु0xa2, 0x5c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10पूर्ण,
		अणुपूर्ण
	    पूर्ण,
	पूर्ण;

	क्रम (i = 0; i < ARRAY_SIZE(probe_tb); i++) अणु
		reg_w1(gspca_dev, 0x17, 0x62);
		reg_w1(gspca_dev, 0x01, 0x08);
		क्रम (j = 0; j < 3; j++)
			i2c_w8(gspca_dev, probe_tb[i][j]);
		msleep(2);
		reg_r(gspca_dev, 0x0a, 5);
		val = (gspca_dev->usb_buf[3] << 8) | gspca_dev->usb_buf[4];
		अगर (probe_tb[i][3][0] != 0)
			i2c_w8(gspca_dev, probe_tb[i][3]);
		reg_w1(gspca_dev, 0x01, 0x29);
		reg_w1(gspca_dev, 0x17, 0x42);
		अगर (val != 0xffff)
			अवरोध;
	पूर्ण
	अगर (gspca_dev->usb_err < 0)
		वापस;
	चयन (val) अणु
	हाल 0x8221:
		gspca_dbg(gspca_dev, D_PROBE, "Sensor mi0360b\n");
		sd->sensor = SENSOR_MI0360B;
		अवरोध;
	हाल 0x823a:
		gspca_dbg(gspca_dev, D_PROBE, "Sensor mt9v111\n");
		sd->sensor = SENSOR_MT9V111;
		अवरोध;
	हाल 0x8243:
		gspca_dbg(gspca_dev, D_PROBE, "Sensor mi0360\n");
		अवरोध;
	शेष:
		gspca_dbg(gspca_dev, D_PROBE, "Unknown sensor %04x - forced to mi0360\n",
			  val);
		अवरोध;
	पूर्ण
पूर्ण

अटल व्योम ov7630_probe(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	u16 val;

	/* check ov76xx */
	reg_w1(gspca_dev, 0x17, 0x62);
	reg_w1(gspca_dev, 0x01, 0x08);
	sd->i2c_addr = 0x21;
	i2c_r(gspca_dev, 0x0a, 2);
	val = (gspca_dev->usb_buf[3] << 8) | gspca_dev->usb_buf[4];
	reg_w1(gspca_dev, 0x01, 0x29);
	reg_w1(gspca_dev, 0x17, 0x42);
	अगर (gspca_dev->usb_err < 0)
		वापस;
	अगर (val == 0x7628) अणु			/* soi768 */
		sd->sensor = SENSOR_SOI768;
/*fixme: only valid क्रम 0c45:613e?*/
		gspca_dev->cam.input_flags =
				V4L2_IN_ST_VFLIP | V4L2_IN_ST_HFLIP;
		gspca_dbg(gspca_dev, D_PROBE, "Sensor soi768\n");
		वापस;
	पूर्ण
	gspca_dbg(gspca_dev, D_PROBE, "Sensor ov%04x\n", val);
पूर्ण

अटल व्योम ov7648_probe(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	u16 val;

	/* check ov76xx */
	reg_w1(gspca_dev, 0x17, 0x62);
	reg_w1(gspca_dev, 0x01, 0x08);
	sd->i2c_addr = 0x21;
	i2c_r(gspca_dev, 0x0a, 2);
	val = (gspca_dev->usb_buf[3] << 8) | gspca_dev->usb_buf[4];
	reg_w1(gspca_dev, 0x01, 0x29);
	reg_w1(gspca_dev, 0x17, 0x42);
	अगर ((val & 0xff00) == 0x7600) अणु		/* ov76xx */
		gspca_dbg(gspca_dev, D_PROBE, "Sensor ov%04x\n", val);
		वापस;
	पूर्ण

	/* check po1030 */
	reg_w1(gspca_dev, 0x17, 0x62);
	reg_w1(gspca_dev, 0x01, 0x08);
	sd->i2c_addr = 0x6e;
	i2c_r(gspca_dev, 0x00, 2);
	val = (gspca_dev->usb_buf[3] << 8) | gspca_dev->usb_buf[4];
	reg_w1(gspca_dev, 0x01, 0x29);
	reg_w1(gspca_dev, 0x17, 0x42);
	अगर (gspca_dev->usb_err < 0)
		वापस;
	अगर (val == 0x1030) अणु			/* po1030 */
		gspca_dbg(gspca_dev, D_PROBE, "Sensor po1030\n");
		sd->sensor = SENSOR_PO1030;
		वापस;
	पूर्ण
	pr_err("Unknown sensor %04x\n", val);
पूर्ण

/* 0c45:6142 sensor may be po2030n, gc0305 or gc0307 */
अटल व्योम po2030n_probe(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	u16 val;

	/* check gc0307 */
	reg_w1(gspca_dev, 0x17, 0x62);
	reg_w1(gspca_dev, 0x01, 0x08);
	reg_w1(gspca_dev, 0x02, 0x22);
	sd->i2c_addr = 0x21;
	i2c_r(gspca_dev, 0x00, 1);
	val = gspca_dev->usb_buf[4];
	reg_w1(gspca_dev, 0x01, 0x29);		/* reset */
	reg_w1(gspca_dev, 0x17, 0x42);
	अगर (val == 0x99) अणु			/* gc0307 (?) */
		gspca_dbg(gspca_dev, D_PROBE, "Sensor gc0307\n");
		sd->sensor = SENSOR_GC0307;
		वापस;
	पूर्ण

	/* check po2030n */
	reg_w1(gspca_dev, 0x17, 0x62);
	reg_w1(gspca_dev, 0x01, 0x0a);
	sd->i2c_addr = 0x6e;
	i2c_r(gspca_dev, 0x00, 2);
	val = (gspca_dev->usb_buf[3] << 8) | gspca_dev->usb_buf[4];
	reg_w1(gspca_dev, 0x01, 0x29);
	reg_w1(gspca_dev, 0x17, 0x42);
	अगर (gspca_dev->usb_err < 0)
		वापस;
	अगर (val == 0x2030) अणु
		gspca_dbg(gspca_dev, D_PROBE, "Sensor po2030n\n");
/*		sd->sensor = SENSOR_PO2030N; */
	पूर्ण अन्यथा अणु
		pr_err("Unknown sensor ID %04x\n", val);
	पूर्ण
पूर्ण

/* this function is called at probe समय */
अटल पूर्णांक sd_config(काष्ठा gspca_dev *gspca_dev,
			स्थिर काष्ठा usb_device_id *id)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	काष्ठा cam *cam;

	sd->bridge = id->driver_info >> 16;
	sd->sensor = id->driver_info >> 8;
	sd->flags = id->driver_info;

	cam = &gspca_dev->cam;
	अगर (sd->sensor == SENSOR_ADCM1700) अणु
		cam->cam_mode = cअगर_mode;
		cam->nmodes = ARRAY_SIZE(cअगर_mode);
	पूर्ण अन्यथा अणु
		cam->cam_mode = vga_mode;
		cam->nmodes = ARRAY_SIZE(vga_mode);
	पूर्ण
	cam->npkt = 24;			/* 24 packets per ISOC message */

	sd->ag_cnt = -1;
	sd->quality = QUALITY_DEF;

	INIT_WORK(&sd->work, qual_upd);

	वापस 0;
पूर्ण

/* this function is called at probe and resume समय */
अटल पूर्णांक sd_init(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	स्थिर u8 *sn9c1xx;
	u8 regGpio[] = अणु 0x29, 0x70 पूर्ण;		/* no audio */
	u8 regF1;

	/* setup a selector by bridge */
	reg_w1(gspca_dev, 0xf1, 0x01);
	reg_r(gspca_dev, 0x00, 1);
	reg_w1(gspca_dev, 0xf1, 0x00);
	reg_r(gspca_dev, 0x00, 1);		/* get sonix chip id */
	regF1 = gspca_dev->usb_buf[0];
	अगर (gspca_dev->usb_err < 0)
		वापस gspca_dev->usb_err;
	gspca_dbg(gspca_dev, D_PROBE, "Sonix chip id: %02x\n", regF1);
	अगर (gspca_dev->audio)
		regGpio[1] |= 0x04;		/* with audio */
	चयन (sd->bridge) अणु
	हाल BRIDGE_SN9C102P:
	हाल BRIDGE_SN9C105:
		अगर (regF1 != 0x11)
			वापस -ENODEV;
		अवरोध;
	शेष:
/*	हाल BRIDGE_SN9C110: */
/*	हाल BRIDGE_SN9C120: */
		अगर (regF1 != 0x12)
			वापस -ENODEV;
	पूर्ण

	चयन (sd->sensor) अणु
	हाल SENSOR_MI0360:
		mi0360_probe(gspca_dev);
		अवरोध;
	हाल SENSOR_OV7630:
		ov7630_probe(gspca_dev);
		अवरोध;
	हाल SENSOR_OV7648:
		ov7648_probe(gspca_dev);
		अवरोध;
	हाल SENSOR_PO2030N:
		po2030n_probe(gspca_dev);
		अवरोध;
	पूर्ण

	चयन (sd->bridge) अणु
	हाल BRIDGE_SN9C102P:
		reg_w1(gspca_dev, 0x02, regGpio[1]);
		अवरोध;
	शेष:
		reg_w(gspca_dev, 0x01, regGpio, 2);
		अवरोध;
	पूर्ण

	/* Note we करो not disable the sensor घड़ी here (घातer saving mode),
	   as that also disables the button on the cam. */
	reg_w1(gspca_dev, 0xf1, 0x00);

	/* set the i2c address */
	sn9c1xx = sn_tb[sd->sensor];
	sd->i2c_addr = sn9c1xx[9];

	वापस gspca_dev->usb_err;
पूर्ण

अटल पूर्णांक sd_s_ctrl(काष्ठा v4l2_ctrl *ctrl);

अटल स्थिर काष्ठा v4l2_ctrl_ops sd_ctrl_ops = अणु
	.s_ctrl = sd_s_ctrl,
पूर्ण;

/* this function is called at probe समय */
अटल पूर्णांक sd_init_controls(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	काष्ठा v4l2_ctrl_handler *hdl = &gspca_dev->ctrl_handler;

	gspca_dev->vdev.ctrl_handler = hdl;
	v4l2_ctrl_handler_init(hdl, 14);

	sd->brightness = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_BRIGHTNESS, 0, 255, 1, 128);
#घोषणा CONTRAST_MAX 127
	sd->contrast = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_CONTRAST, 0, CONTRAST_MAX, 1, 20);
#घोषणा COLORS_DEF 25
	sd->saturation = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_SATURATION, 0, 40, 1, COLORS_DEF);
	sd->red_bal = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_RED_BALANCE, 24, 40, 1, 32);
	sd->blue_bal = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_BLUE_BALANCE, 24, 40, 1, 32);
#घोषणा GAMMA_DEF 20
	sd->gamma = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_GAMMA, 0, 40, 1, GAMMA_DEF);

	अगर (sd->sensor == SENSOR_OM6802)
		sd->sharpness = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_SHARPNESS, 0, 255, 1, 16);
	अन्यथा
		sd->sharpness = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_SHARPNESS, 0, 255, 1, 90);

	अगर (sd->flags & F_ILLUM)
		sd->illum = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_ILLUMINATORS_1, 0, 1, 1, 0);

	अगर (sd->sensor == SENSOR_PO2030N) अणु
		gspca_dev->exposure = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_EXPOSURE, 500, 1500, 1, 1024);
		gspca_dev->gain = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_GAIN, 4, 49, 1, 15);
		sd->hflip = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_HFLIP, 0, 1, 1, 0);
	पूर्ण

	अगर (sd->sensor != SENSOR_ADCM1700 && sd->sensor != SENSOR_OV7660 &&
	    sd->sensor != SENSOR_PO1030 && sd->sensor != SENSOR_SOI768 &&
	    sd->sensor != SENSOR_SP80708)
		gspca_dev->स्वतःgain = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_AUTOGAIN, 0, 1, 1, 1);

	अगर (sd->sensor == SENSOR_HV7131R || sd->sensor == SENSOR_OV7630 ||
	    sd->sensor == SENSOR_OV7648 || sd->sensor == SENSOR_PO2030N)
		sd->vflip = v4l2_ctrl_new_std(hdl, &sd_ctrl_ops,
			V4L2_CID_VFLIP, 0, 1, 1, 0);

	अगर (sd->sensor == SENSOR_OV7630 || sd->sensor == SENSOR_OV7648 ||
	    sd->sensor == SENSOR_OV7660)
		sd->freq = v4l2_ctrl_new_std_menu(hdl, &sd_ctrl_ops,
			V4L2_CID_POWER_LINE_FREQUENCY,
			V4L2_CID_POWER_LINE_FREQUENCY_60HZ, 0,
			V4L2_CID_POWER_LINE_FREQUENCY_50HZ);

	अगर (hdl->error) अणु
		pr_err("Could not initialize controls\n");
		वापस hdl->error;
	पूर्ण

	v4l2_ctrl_cluster(2, &sd->red_bal);
	अगर (sd->sensor == SENSOR_PO2030N) अणु
		v4l2_ctrl_cluster(2, &sd->vflip);
		v4l2_ctrl_स्वतः_cluster(3, &gspca_dev->स्वतःgain, 0, false);
	पूर्ण

	वापस 0;
पूर्ण

अटल u32 expo_adjust(काष्ठा gspca_dev *gspca_dev,
			u32 expo)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	चयन (sd->sensor) अणु
	हाल SENSOR_GC0307: अणु
		पूर्णांक a, b;

		/* expo = 0..255 -> a = 19..43 */
		a = 19 + expo * 25 / 256;
		i2c_w1(gspca_dev, 0x68, a);
		a -= 12;
		b = a * a * 4;			/* heuristic */
		i2c_w1(gspca_dev, 0x03, b >> 8);
		i2c_w1(gspca_dev, 0x04, b);
		अवरोध;
	    पूर्ण
	हाल SENSOR_HV7131R: अणु
		u8 Expoकरोit[] =
			अणु 0xc1, 0x11, 0x25, 0x00, 0x00, 0x00, 0x00, 0x16 पूर्ण;

		Expoकरोit[3] = expo >> 16;
		Expoकरोit[4] = expo >> 8;
		Expoकरोit[5] = expo;
		i2c_w8(gspca_dev, Expoकरोit);
		अवरोध;
	    पूर्ण
	हाल SENSOR_MI0360:
	हाल SENSOR_MI0360B: अणु
		u8 expoMi[] =		/* exposure 0x0635 -> 4 fp/s 0x10 */
			अणु 0xb1, 0x5d, 0x09, 0x00, 0x00, 0x00, 0x00, 0x16 पूर्ण;
		अटल स्थिर u8 करोit[] =		/* update sensor */
			अणु 0xb1, 0x5d, 0x07, 0x00, 0x03, 0x00, 0x00, 0x10 पूर्ण;
		अटल स्थिर u8 sensorgo[] =		/* sensor on */
			अणु 0xb1, 0x5d, 0x07, 0x00, 0x02, 0x00, 0x00, 0x10 पूर्ण;

		अगर (expo > 0x0635)
			expo = 0x0635;
		अन्यथा अगर (expo < 0x0001)
			expo = 0x0001;
		expoMi[3] = expo >> 8;
		expoMi[4] = expo;
		i2c_w8(gspca_dev, expoMi);
		i2c_w8(gspca_dev, करोit);
		i2c_w8(gspca_dev, sensorgo);
		अवरोध;
	    पूर्ण
	हाल SENSOR_MO4000: अणु
		u8 expoMof[] =
			अणु 0xa1, 0x21, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x10 पूर्ण;
		u8 expoMo10[] =
			अणु 0xa1, 0x21, 0x10, 0x00, 0x00, 0x00, 0x00, 0x10 पूर्ण;
		अटल स्थिर u8 gainMo[] =
			अणु 0xa1, 0x21, 0x00, 0x10, 0x00, 0x00, 0x00, 0x1d पूर्ण;

		अगर (expo > 0x1fff)
			expo = 0x1fff;
		अन्यथा अगर (expo < 0x0001)
			expo = 0x0001;
		expoMof[3] = (expo & 0x03fc) >> 2;
		i2c_w8(gspca_dev, expoMof);
		expoMo10[3] = ((expo & 0x1c00) >> 10)
				| ((expo & 0x0003) << 4);
		i2c_w8(gspca_dev, expoMo10);
		i2c_w8(gspca_dev, gainMo);
		gspca_dbg(gspca_dev, D_FRAM, "set exposure %d\n",
			  ((expoMo10[3] & 0x07) << 10)
			  | (expoMof[3] << 2)
			  | ((expoMo10[3] & 0x30) >> 4));
		अवरोध;
	    पूर्ण
	हाल SENSOR_MT9V111: अणु
		u8 expo_c1[] =
			अणु 0xb1, 0x5c, 0x09, 0x00, 0x00, 0x00, 0x00, 0x10 पूर्ण;

		अगर (expo > 0x0390)
			expo = 0x0390;
		अन्यथा अगर (expo < 0x0060)
			expo = 0x0060;
		expo_c1[3] = expo >> 8;
		expo_c1[4] = expo;
		i2c_w8(gspca_dev, expo_c1);
		अवरोध;
	    पूर्ण
	हाल SENSOR_OM6802: अणु
		u8 gainOm[] =
			अणु 0xa0, 0x34, 0xe5, 0x00, 0x00, 0x00, 0x00, 0x10 पूर्ण;
				/* preset AGC - works when AutoExpo = off */

		अगर (expo > 0x03ff)
			expo = 0x03ff;
		अगर (expo < 0x0001)
			expo = 0x0001;
		gainOm[3] = expo >> 2;
		i2c_w8(gspca_dev, gainOm);
		reg_w1(gspca_dev, 0x96, expo >> 5);
		gspca_dbg(gspca_dev, D_FRAM, "set exposure %d\n", gainOm[3]);
		अवरोध;
	    पूर्ण
	पूर्ण
	वापस expo;
पूर्ण

अटल व्योम setbrightness(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	अचिन्हित पूर्णांक expo;
	पूर्णांक brightness = sd->brightness->val;
	u8 k2;

	k2 = (brightness - 0x80) >> 2;
	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
		अगर (k2 > 0x1f)
			k2 = 0;		/* only positive Y offset */
		अवरोध;
	हाल SENSOR_HV7131R:
		expo = brightness << 12;
		अगर (expo > 0x002dc6c0)
			expo = 0x002dc6c0;
		अन्यथा अगर (expo < 0x02a0)
			expo = 0x02a0;
		sd->exposure = expo_adjust(gspca_dev, expo);
		अवरोध;
	हाल SENSOR_MI0360:
	हाल SENSOR_MO4000:
		expo = brightness << 4;
		sd->exposure = expo_adjust(gspca_dev, expo);
		अवरोध;
	हाल SENSOR_MI0360B:
		expo = brightness << 2;
		sd->exposure = expo_adjust(gspca_dev, expo);
		अवरोध;
	हाल SENSOR_GC0307:
		expo = brightness;
		sd->exposure = expo_adjust(gspca_dev, expo);
		वापस;			/* करोn't set the Y offset */
	हाल SENSOR_MT9V111:
		expo = brightness << 2;
		sd->exposure = expo_adjust(gspca_dev, expo);
		वापस;			/* करोn't set the Y offset */
	हाल SENSOR_OM6802:
		expo = brightness << 2;
		sd->exposure = expo_adjust(gspca_dev, expo);
		वापस;			/* Y offset alपढ़ोy set */
	पूर्ण

	reg_w1(gspca_dev, 0x96, k2);	/* color matrix Y offset */
पूर्ण

अटल व्योम setcontrast(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	u8 k2;
	u8 contrast[6];

	k2 = sd->contrast->val * 37 / (CONTRAST_MAX + 1)
				+ 37;		/* 37..73 */
	contrast[0] = (k2 + 1) / 2;		/* red */
	contrast[1] = 0;
	contrast[2] = k2;			/* green */
	contrast[3] = 0;
	contrast[4] = k2 / 5;			/* blue */
	contrast[5] = 0;
	reg_w(gspca_dev, 0x84, contrast, माप contrast);
पूर्ण

अटल व्योम setcolors(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	पूर्णांक i, v, colors;
	स्थिर s16 *uv;
	u8 reg8a[12];			/* U & V gains */
	अटल स्थिर s16 uv_com[6] = अणु	/* same as reg84 in चिन्हित decimal */
		-24, -38, 64,		/* UR UG UB */
		 62, -51, -9		/* VR VG VB */
	पूर्ण;
	अटल स्थिर s16 uv_mi0360b[6] = अणु
		-20, -38, 64,		/* UR UG UB */
		 60, -51, -9		/* VR VG VB */
	पूर्ण;

	colors = sd->saturation->val;
	अगर (sd->sensor == SENSOR_MI0360B)
		uv = uv_mi0360b;
	अन्यथा
		uv = uv_com;
	क्रम (i = 0; i < 6; i++) अणु
		v = uv[i] * colors / COLORS_DEF;
		reg8a[i * 2] = v;
		reg8a[i * 2 + 1] = (v >> 8) & 0x0f;
	पूर्ण
	reg_w(gspca_dev, 0x8a, reg8a, माप reg8a);
पूर्ण

अटल व्योम setredblue(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	अगर (sd->sensor == SENSOR_PO2030N) अणु
		u8 rg1b[] =		/* red  green1 blue (no g2) */
			अणु0xc1, 0x6e, 0x16, 0x00, 0x40, 0x00, 0x00, 0x10पूर्ण;

		/* 0x40 = normal value = gain x 1 */
		rg1b[3] = sd->red_bal->val * 2;
		rg1b[5] = sd->blue_bal->val * 2;
		i2c_w8(gspca_dev, rg1b);
		वापस;
	पूर्ण
	reg_w1(gspca_dev, 0x05, sd->red_bal->val);
/*	reg_w1(gspca_dev, 0x07, 32); */
	reg_w1(gspca_dev, 0x06, sd->blue_bal->val);
पूर्ण

अटल व्योम setgamma(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	पूर्णांक i, val;
	u8 gamma[17];
	स्थिर u8 *gamma_base;
	अटल स्थिर u8 delta[17] = अणु
		0x00, 0x14, 0x1c, 0x1c, 0x1c, 0x1c, 0x1b, 0x1a,
		0x18, 0x13, 0x10, 0x0e, 0x08, 0x07, 0x04, 0x02, 0x00
	पूर्ण;

	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
		gamma_base = gamma_spec_0;
		अवरोध;
	हाल SENSOR_HV7131R:
	हाल SENSOR_MI0360B:
	हाल SENSOR_MT9V111:
		gamma_base = gamma_spec_1;
		अवरोध;
	हाल SENSOR_GC0307:
		gamma_base = gamma_spec_2;
		अवरोध;
	हाल SENSOR_SP80708:
		gamma_base = gamma_spec_3;
		अवरोध;
	शेष:
		gamma_base = gamma_def;
		अवरोध;
	पूर्ण

	val = sd->gamma->val;
	क्रम (i = 0; i < माप gamma; i++)
		gamma[i] = gamma_base[i]
			+ delta[i] * (val - GAMMA_DEF) / 32;
	reg_w(gspca_dev, 0x20, gamma, माप gamma);
पूर्ण

अटल व्योम setexposure(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	अगर (sd->sensor == SENSOR_PO2030N) अणु
		u8 rexpo[] =		/* 1a: expo H, 1b: expo M */
			अणु0xa1, 0x6e, 0x1a, 0x00, 0x40, 0x00, 0x00, 0x10पूर्ण;

		rexpo[3] = gspca_dev->exposure->val >> 8;
		i2c_w8(gspca_dev, rexpo);
		msleep(6);
		rexpo[2] = 0x1b;
		rexpo[3] = gspca_dev->exposure->val;
		i2c_w8(gspca_dev, rexpo);
	पूर्ण
पूर्ण

अटल व्योम setस्वतःgain(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	चयन (sd->sensor) अणु
	हाल SENSOR_OV7630:
	हाल SENSOR_OV7648: अणु
		u8 comb;

		अगर (sd->sensor == SENSOR_OV7630)
			comb = 0xc0;
		अन्यथा
			comb = 0xa0;
		अगर (gspca_dev->स्वतःgain->val)
			comb |= 0x03;
		i2c_w1(&sd->gspca_dev, 0x13, comb);
		वापस;
	    पूर्ण
	पूर्ण
	अगर (gspca_dev->स्वतःgain->val)
		sd->ag_cnt = AG_CNT_START;
	अन्यथा
		sd->ag_cnt = -1;
पूर्ण

अटल व्योम setgain(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	अगर (sd->sensor == SENSOR_PO2030N) अणु
		u8 rgain[] =		/* 15: gain */
			अणु0xa1, 0x6e, 0x15, 0x00, 0x40, 0x00, 0x00, 0x15पूर्ण;

		rgain[3] = gspca_dev->gain->val;
		i2c_w8(gspca_dev, rgain);
	पूर्ण
पूर्ण

अटल व्योम sethvflip(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	u8 comn;

	चयन (sd->sensor) अणु
	हाल SENSOR_HV7131R:
		comn = 0x18;			/* clkभाग = 1, ablcen = 1 */
		अगर (sd->vflip->val)
			comn |= 0x01;
		i2c_w1(gspca_dev, 0x01, comn);	/* sctra */
		अवरोध;
	हाल SENSOR_OV7630:
		comn = 0x02;
		अगर (!sd->vflip->val)
			comn |= 0x80;
		i2c_w1(gspca_dev, 0x75, comn);
		अवरोध;
	हाल SENSOR_OV7648:
		comn = 0x06;
		अगर (sd->vflip->val)
			comn |= 0x80;
		i2c_w1(gspca_dev, 0x75, comn);
		अवरोध;
	हाल SENSOR_PO2030N:
		/* Reg. 0x1E: Timing Generator Control Register 2 (Tgcontrol2)
		 * (reset value: 0x0A)
		 * bit7: HM: Horizontal Mirror: 0: disable, 1: enable
		 * bit6: VM: Vertical Mirror: 0: disable, 1: enable
		 * bit5: ST: Shutter Selection: 0: electrical, 1: mechanical
		 * bit4: FT: Single Frame Transfer: 0: disable, 1: enable
		 * bit3-0: X
		 */
		comn = 0x0a;
		अगर (sd->hflip->val)
			comn |= 0x80;
		अगर (sd->vflip->val)
			comn |= 0x40;
		i2c_w1(&sd->gspca_dev, 0x1e, comn);
		अवरोध;
	पूर्ण
पूर्ण

अटल व्योम setsharpness(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	reg_w1(gspca_dev, 0x99, sd->sharpness->val);
पूर्ण

अटल व्योम setillum(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
		reg_w1(gspca_dev, 0x02,				/* gpio */
			sd->illum->val ? 0x64 : 0x60);
		अवरोध;
	हाल SENSOR_MT9V111:
		reg_w1(gspca_dev, 0x02,
			sd->illum->val ? 0x77 : 0x74);
/* should have been: */
/*						0x55 : 0x54);	* 370i */
/*						0x66 : 0x64);	* Clip */
		अवरोध;
	पूर्ण
पूर्ण

अटल व्योम setfreq(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	अगर (sd->sensor == SENSOR_OV7660) अणु
		u8 com8;

		com8 = 0xdf;		/* स्वतः gain/wb/expo */
		चयन (sd->freq->val) अणु
		हाल 0: /* Banding filter disabled */
			i2c_w1(gspca_dev, 0x13, com8 | 0x20);
			अवरोध;
		हाल 1: /* 50 hz */
			i2c_w1(gspca_dev, 0x13, com8);
			i2c_w1(gspca_dev, 0x3b, 0x0a);
			अवरोध;
		हाल 2: /* 60 hz */
			i2c_w1(gspca_dev, 0x13, com8);
			i2c_w1(gspca_dev, 0x3b, 0x02);
			अवरोध;
		पूर्ण
	पूर्ण अन्यथा अणु
		u8 reg2a = 0, reg2b = 0, reg2d = 0;

		/* Get reg2a / reg2d base values */
		चयन (sd->sensor) अणु
		हाल SENSOR_OV7630:
			reg2a = 0x08;
			reg2d = 0x01;
			अवरोध;
		हाल SENSOR_OV7648:
			reg2a = 0x11;
			reg2d = 0x81;
			अवरोध;
		पूर्ण

		चयन (sd->freq->val) अणु
		हाल 0: /* Banding filter disabled */
			अवरोध;
		हाल 1: /* 50 hz (filter on and framerate adj) */
			reg2a |= 0x80;
			reg2b = 0xac;
			reg2d |= 0x04;
			अवरोध;
		हाल 2: /* 60 hz (filter on, no framerate adj) */
			reg2a |= 0x80;
			reg2d |= 0x04;
			अवरोध;
		पूर्ण
		i2c_w1(gspca_dev, 0x2a, reg2a);
		i2c_w1(gspca_dev, 0x2b, reg2b);
		i2c_w1(gspca_dev, 0x2d, reg2d);
	पूर्ण
पूर्ण

अटल व्योम setjpegqual(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	jpeg_set_qual(sd->jpeg_hdr, sd->quality);
#अगर USB_BUF_SZ < 64
#त्रुटि "No room enough in usb_buf for quantization table"
#पूर्ण_अगर
	स_नकल(gspca_dev->usb_buf, &sd->jpeg_hdr[JPEG_QT0_OFFSET], 64);
	usb_control_msg(gspca_dev->dev,
			usb_sndctrlpipe(gspca_dev->dev, 0),
			0x08,
			USB_सूची_OUT | USB_TYPE_VENDOR | USB_RECIP_INTERFACE,
			0x0100, 0,
			gspca_dev->usb_buf, 64,
			500);
	स_नकल(gspca_dev->usb_buf, &sd->jpeg_hdr[JPEG_QT1_OFFSET], 64);
	usb_control_msg(gspca_dev->dev,
			usb_sndctrlpipe(gspca_dev->dev, 0),
			0x08,
			USB_सूची_OUT | USB_TYPE_VENDOR | USB_RECIP_INTERFACE,
			0x0140, 0,
			gspca_dev->usb_buf, 64,
			500);

	sd->reg18 ^= 0x40;
	reg_w1(gspca_dev, 0x18, sd->reg18);
पूर्ण

/* JPEG quality update */
/* This function is executed from a work queue. */
अटल व्योम qual_upd(काष्ठा work_काष्ठा *work)
अणु
	काष्ठा sd *sd = container_of(work, काष्ठा sd, work);
	काष्ठा gspca_dev *gspca_dev = &sd->gspca_dev;

	/* To protect gspca_dev->usb_buf and gspca_dev->usb_err */
	mutex_lock(&gspca_dev->usb_lock);
	gspca_dbg(gspca_dev, D_STREAM, "qual_upd %d%%\n", sd->quality);
	gspca_dev->usb_err = 0;
	setjpegqual(gspca_dev);
	mutex_unlock(&gspca_dev->usb_lock);
पूर्ण

/* -- start the camera -- */
अटल पूर्णांक sd_start(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	पूर्णांक i;
	u8 reg01, reg17;
	u8 reg0102[2];
	स्थिर u8 *sn9c1xx;
	स्थिर u8 (*init)[8];
	स्थिर u8 *reg9a;
	पूर्णांक mode;
	अटल स्थिर u8 reg9a_def[] =
		अणु0x00, 0x40, 0x20, 0x00, 0x00, 0x00पूर्ण;
	अटल स्थिर u8 reg9a_spec[] =
		अणु0x00, 0x40, 0x38, 0x30, 0x00, 0x20पूर्ण;
	अटल स्थिर u8 regd4[] = अणु0x60, 0x00, 0x00पूर्ण;
	अटल स्थिर u8 C0[] = अणु 0x2d, 0x2d, 0x3a, 0x05, 0x04, 0x3f पूर्ण;
	अटल स्थिर u8 CA[] = अणु 0x28, 0xd8, 0x14, 0xec पूर्ण;
	अटल स्थिर u8 CA_adcm1700[] =
				अणु 0x14, 0xec, 0x0a, 0xf6 पूर्ण;
	अटल स्थिर u8 CA_po2030n[] =
				अणु 0x1e, 0xe2, 0x14, 0xec पूर्ण;
	अटल स्थिर u8 CE[] = अणु 0x32, 0xdd, 0x2d, 0xdd पूर्ण;	/* MI0360 */
	अटल स्थिर u8 CE_gc0307[] =
				अणु 0x32, 0xce, 0x2d, 0xd3 पूर्ण;
	अटल स्थिर u8 CE_ov76xx[] =
				अणु 0x32, 0xdd, 0x32, 0xdd पूर्ण;
	अटल स्थिर u8 CE_po2030n[] =
				अणु 0x14, 0xe7, 0x1e, 0xdd पूर्ण;

	/* create the JPEG header */
	jpeg_define(sd->jpeg_hdr, gspca_dev->pixfmt.height,
			gspca_dev->pixfmt.width,
			0x21);		/* JPEG 422 */

	/* initialize the bridge */
	sn9c1xx = sn_tb[sd->sensor];

	/* sensor घड़ी alपढ़ोy enabled in sd_init */
	/* reg_w1(gspca_dev, 0xf1, 0x00); */
	reg01 = sn9c1xx[1];
	अगर (sd->flags & F_PDN_INV)
		reg01 ^= S_PDN_INV;		/* घातer करोwn inverted */
	reg_w1(gspca_dev, 0x01, reg01);

	/* configure gpio */
	reg0102[0] = reg01;
	reg0102[1] = sn9c1xx[2];
	अगर (gspca_dev->audio)
		reg0102[1] |= 0x04;	/* keep the audio connection */
	reg_w(gspca_dev, 0x01, reg0102, 2);
	reg_w(gspca_dev, 0x08, &sn9c1xx[8], 2);
	reg_w(gspca_dev, 0x17, &sn9c1xx[0x17], 5);
	चयन (sd->sensor) अणु
	हाल SENSOR_GC0307:
	हाल SENSOR_OV7660:
	हाल SENSOR_PO1030:
	हाल SENSOR_PO2030N:
	हाल SENSOR_SOI768:
	हाल SENSOR_SP80708:
		reg9a = reg9a_spec;
		अवरोध;
	शेष:
		reg9a = reg9a_def;
		अवरोध;
	पूर्ण
	reg_w(gspca_dev, 0x9a, reg9a, 6);

	reg_w(gspca_dev, 0xd4, regd4, माप regd4);

	reg_w(gspca_dev, 0x03, &sn9c1xx[3], 0x0f);

	reg17 = sn9c1xx[0x17];
	चयन (sd->sensor) अणु
	हाल SENSOR_GC0307:
		msleep(50);		/*fixme: is it useful? */
		अवरोध;
	हाल SENSOR_OM6802:
		msleep(10);
		reg_w1(gspca_dev, 0x02, 0x73);
		reg17 |= SEN_CLK_EN;
		reg_w1(gspca_dev, 0x17, reg17);
		reg_w1(gspca_dev, 0x01, 0x22);
		msleep(100);
		reg01 = SCL_SEL_OD | S_PDN_INV;
		reg17 &= ~MCK_SIZE_MASK;
		reg17 |= 0x04;		/* घड़ी / 4 */
		अवरोध;
	पूर्ण
	reg01 |= SYS_SEL_48M;
	reg_w1(gspca_dev, 0x01, reg01);
	reg17 |= SEN_CLK_EN;
	reg_w1(gspca_dev, 0x17, reg17);
	reg01 &= ~S_PWR_DN;		/* sensor घातer on */
	reg_w1(gspca_dev, 0x01, reg01);
	reg01 &= ~SCL_SEL_OD;		/* हटाओ खोलो-drain mode */
	reg_w1(gspca_dev, 0x01, reg01);

	चयन (sd->sensor) अणु
	हाल SENSOR_HV7131R:
		hv7131r_probe(gspca_dev);	/*fixme: is it useful? */
		अवरोध;
	हाल SENSOR_OM6802:
		msleep(10);
		reg_w1(gspca_dev, 0x01, reg01);
		i2c_w8(gspca_dev, om6802_init0[0]);
		i2c_w8(gspca_dev, om6802_init0[1]);
		msleep(15);
		reg_w1(gspca_dev, 0x02, 0x71);
		msleep(150);
		अवरोध;
	हाल SENSOR_SP80708:
		msleep(100);
		reg_w1(gspca_dev, 0x02, 0x62);
		अवरोध;
	पूर्ण

	/* initialize the sensor */
	i2c_w_seq(gspca_dev, sensor_init[sd->sensor]);

	reg_w1(gspca_dev, 0x15, sn9c1xx[0x15]);
	reg_w1(gspca_dev, 0x16, sn9c1xx[0x16]);
	reg_w1(gspca_dev, 0x12, sn9c1xx[0x12]);
	reg_w1(gspca_dev, 0x13, sn9c1xx[0x13]);
	reg_w1(gspca_dev, 0x18, sn9c1xx[0x18]);
	अगर (sd->sensor == SENSOR_ADCM1700) अणु
		reg_w1(gspca_dev, 0xd2, 0x3a);	/* AE_H_SIZE = 116 */
		reg_w1(gspca_dev, 0xd3, 0x30);	/* AE_V_SIZE = 96 */
	पूर्ण अन्यथा अणु
		reg_w1(gspca_dev, 0xd2, 0x6a);	/* AE_H_SIZE = 212 */
		reg_w1(gspca_dev, 0xd3, 0x50);	/* AE_V_SIZE = 160 */
	पूर्ण
	reg_w1(gspca_dev, 0xc6, 0x00);
	reg_w1(gspca_dev, 0xc7, 0x00);
	अगर (sd->sensor == SENSOR_ADCM1700) अणु
		reg_w1(gspca_dev, 0xc8, 0x2c);	/* AW_H_STOP = 352 */
		reg_w1(gspca_dev, 0xc9, 0x24);	/* AW_V_STOP = 288 */
	पूर्ण अन्यथा अणु
		reg_w1(gspca_dev, 0xc8, 0x50);	/* AW_H_STOP = 640 */
		reg_w1(gspca_dev, 0xc9, 0x3c);	/* AW_V_STOP = 480 */
	पूर्ण
	reg_w1(gspca_dev, 0x18, sn9c1xx[0x18]);
	चयन (sd->sensor) अणु
	हाल SENSOR_OM6802:
/*	हाल SENSOR_OV7648:		* fixme: someबार */
		अवरोध;
	शेष:
		reg17 |= DEF_EN;
		अवरोध;
	पूर्ण
	reg_w1(gspca_dev, 0x17, reg17);

	reg_w1(gspca_dev, 0x05, 0x00);		/* red */
	reg_w1(gspca_dev, 0x07, 0x00);		/* green */
	reg_w1(gspca_dev, 0x06, 0x00);		/* blue */
	reg_w1(gspca_dev, 0x14, sn9c1xx[0x14]);

	setgamma(gspca_dev);

/*fixme: 8 बार with all zeroes and 1 or 2 बार with normal values */
	क्रम (i = 0; i < 8; i++)
		reg_w(gspca_dev, 0x84, reg84, माप reg84);
	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
	हाल SENSOR_OV7660:
	हाल SENSOR_SP80708:
		reg_w1(gspca_dev, 0x9a, 0x05);
		अवरोध;
	हाल SENSOR_GC0307:
	हाल SENSOR_MT9V111:
	हाल SENSOR_MI0360B:
		reg_w1(gspca_dev, 0x9a, 0x07);
		अवरोध;
	हाल SENSOR_OV7630:
	हाल SENSOR_OV7648:
		reg_w1(gspca_dev, 0x9a, 0x0a);
		अवरोध;
	हाल SENSOR_PO2030N:
	हाल SENSOR_SOI768:
		reg_w1(gspca_dev, 0x9a, 0x06);
		अवरोध;
	शेष:
		reg_w1(gspca_dev, 0x9a, 0x08);
		अवरोध;
	पूर्ण
	setsharpness(gspca_dev);

	reg_w(gspca_dev, 0x84, reg84, माप reg84);
	reg_w1(gspca_dev, 0x05, 0x20);		/* red */
	reg_w1(gspca_dev, 0x07, 0x20);		/* green */
	reg_w1(gspca_dev, 0x06, 0x20);		/* blue */

	init = शून्य;
	mode = gspca_dev->cam.cam_mode[gspca_dev->curr_mode].priv;
	reg01 |= SYS_SEL_48M | V_TX_EN;
	reg17 &= ~MCK_SIZE_MASK;
	reg17 |= 0x02;			/* घड़ी / 2 */
	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
		init = adcm1700_sensor_param1;
		अवरोध;
	हाल SENSOR_GC0307:
		init = gc0307_sensor_param1;
		अवरोध;
	हाल SENSOR_HV7131R:
	हाल SENSOR_MI0360:
		अगर (!mode)
			reg01 &= ~SYS_SEL_48M;	/* 640x480: clk 24Mhz */
		reg17 &= ~MCK_SIZE_MASK;
		reg17 |= 0x01;			/* घड़ी / 1 */
		अवरोध;
	हाल SENSOR_MI0360B:
		init = mi0360b_sensor_param1;
		अवरोध;
	हाल SENSOR_MO4000:
		अगर (mode) अणु			/* अगर 320x240 */
			reg01 &= ~SYS_SEL_48M;	/* clk 24Mz */
			reg17 &= ~MCK_SIZE_MASK;
			reg17 |= 0x01;		/* घड़ी / 1 */
		पूर्ण
		अवरोध;
	हाल SENSOR_MT9V111:
		init = mt9v111_sensor_param1;
		अवरोध;
	हाल SENSOR_OM6802:
		init = om6802_sensor_param1;
		अगर (!mode) अणु			/* अगर 640x480 */
			reg17 &= ~MCK_SIZE_MASK;
			reg17 |= 0x04;		/* घड़ी / 4 */
		पूर्ण अन्यथा अणु
			reg01 &= ~SYS_SEL_48M;	/* clk 24Mz */
			reg17 &= ~MCK_SIZE_MASK;
			reg17 |= 0x02;		/* घड़ी / 2 */
		पूर्ण
		अवरोध;
	हाल SENSOR_OV7630:
		init = ov7630_sensor_param1;
		अवरोध;
	हाल SENSOR_OV7648:
		init = ov7648_sensor_param1;
		reg17 &= ~MCK_SIZE_MASK;
		reg17 |= 0x01;			/* घड़ी / 1 */
		अवरोध;
	हाल SENSOR_OV7660:
		init = ov7660_sensor_param1;
		अवरोध;
	हाल SENSOR_PO1030:
		init = po1030_sensor_param1;
		अवरोध;
	हाल SENSOR_PO2030N:
		init = po2030n_sensor_param1;
		अवरोध;
	हाल SENSOR_SOI768:
		init = soi768_sensor_param1;
		अवरोध;
	हाल SENSOR_SP80708:
		init = sp80708_sensor_param1;
		अवरोध;
	पूर्ण

	/* more sensor initialization - param1 */
	अगर (init != शून्य) अणु
		i2c_w_seq(gspca_dev, init);
/*		init = शून्य; */
	पूर्ण

	reg_w(gspca_dev, 0xc0, C0, 6);
	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
	हाल SENSOR_GC0307:
	हाल SENSOR_SOI768:
		reg_w(gspca_dev, 0xca, CA_adcm1700, 4);
		अवरोध;
	हाल SENSOR_PO2030N:
		reg_w(gspca_dev, 0xca, CA_po2030n, 4);
		अवरोध;
	शेष:
		reg_w(gspca_dev, 0xca, CA, 4);
		अवरोध;
	पूर्ण
	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
	हाल SENSOR_OV7630:
	हाल SENSOR_OV7648:
	हाल SENSOR_OV7660:
	हाल SENSOR_SOI768:
		reg_w(gspca_dev, 0xce, CE_ov76xx, 4);
		अवरोध;
	हाल SENSOR_GC0307:
		reg_w(gspca_dev, 0xce, CE_gc0307, 4);
		अवरोध;
	हाल SENSOR_PO2030N:
		reg_w(gspca_dev, 0xce, CE_po2030n, 4);
		अवरोध;
	शेष:
		reg_w(gspca_dev, 0xce, CE, 4);
					/* ?? अणु0x1e, 0xdd, 0x2d, 0xe7पूर्ण */
		अवरोध;
	पूर्ण

	/* here change size mode 0 -> VGA; 1 -> CIF */
	sd->reg18 = sn9c1xx[0x18] | (mode << 4) | 0x40;
	reg_w1(gspca_dev, 0x18, sd->reg18);
	setjpegqual(gspca_dev);

	reg_w1(gspca_dev, 0x17, reg17);
	reg_w1(gspca_dev, 0x01, reg01);
	sd->reg01 = reg01;
	sd->reg17 = reg17;

	sd->pktsz = sd->npkt = 0;
	sd->nchg = sd->लघु_mark = 0;

	वापस gspca_dev->usb_err;
पूर्ण

अटल व्योम sd_stopN(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	अटल स्थिर u8 stophv7131[] =
		अणु 0xa1, 0x11, 0x02, 0x09, 0x00, 0x00, 0x00, 0x10 पूर्ण;
	अटल स्थिर u8 stopmi0360[] =
		अणु 0xb1, 0x5d, 0x07, 0x00, 0x00, 0x00, 0x00, 0x10 पूर्ण;
	अटल स्थिर u8 stopov7648[] =
		अणु 0xa1, 0x21, 0x76, 0x20, 0x00, 0x00, 0x00, 0x10 पूर्ण;
	अटल स्थिर u8 stopsoi768[] =
		अणु 0xa1, 0x21, 0x12, 0x80, 0x00, 0x00, 0x00, 0x10 पूर्ण;
	u8 reg01;
	u8 reg17;

	reg01 = sd->reg01;
	reg17 = sd->reg17 & ~SEN_CLK_EN;
	चयन (sd->sensor) अणु
	हाल SENSOR_ADCM1700:
	हाल SENSOR_GC0307:
	हाल SENSOR_PO2030N:
	हाल SENSOR_SP80708:
		reg01 |= LED;
		reg_w1(gspca_dev, 0x01, reg01);
		reg01 &= ~(LED | V_TX_EN);
		reg_w1(gspca_dev, 0x01, reg01);
/*		reg_w1(gspca_dev, 0x02, 0x??);	 * LED off ? */
		अवरोध;
	हाल SENSOR_HV7131R:
		reg01 &= ~V_TX_EN;
		reg_w1(gspca_dev, 0x01, reg01);
		i2c_w8(gspca_dev, stophv7131);
		अवरोध;
	हाल SENSOR_MI0360:
	हाल SENSOR_MI0360B:
		reg01 &= ~V_TX_EN;
		reg_w1(gspca_dev, 0x01, reg01);
/*		reg_w1(gspca_dev, 0x02, 0x40);	  * LED off ? */
		i2c_w8(gspca_dev, stopmi0360);
		अवरोध;
	हाल SENSOR_MT9V111:
	हाल SENSOR_OM6802:
	हाल SENSOR_PO1030:
		reg01 &= ~V_TX_EN;
		reg_w1(gspca_dev, 0x01, reg01);
		अवरोध;
	हाल SENSOR_OV7630:
	हाल SENSOR_OV7648:
		reg01 &= ~V_TX_EN;
		reg_w1(gspca_dev, 0x01, reg01);
		i2c_w8(gspca_dev, stopov7648);
		अवरोध;
	हाल SENSOR_OV7660:
		reg01 &= ~V_TX_EN;
		reg_w1(gspca_dev, 0x01, reg01);
		अवरोध;
	हाल SENSOR_SOI768:
		i2c_w8(gspca_dev, stopsoi768);
		अवरोध;
	पूर्ण

	reg01 |= SCL_SEL_OD;
	reg_w1(gspca_dev, 0x01, reg01);
	reg01 |= S_PWR_DN;		/* sensor घातer करोwn */
	reg_w1(gspca_dev, 0x01, reg01);
	reg_w1(gspca_dev, 0x17, reg17);
	reg01 &= ~SYS_SEL_48M;		/* घड़ी 24MHz */
	reg_w1(gspca_dev, 0x01, reg01);
	reg01 |= LED;
	reg_w1(gspca_dev, 0x01, reg01);
	/* Don't disable sensor घड़ी as that disables the button on the cam */
	/* reg_w1(gspca_dev, 0xf1, 0x01); */
पूर्ण

/* called on streamoff with alt==0 and on disconnect */
/* the usb_lock is held at entry - restore on निकास */
अटल व्योम sd_stop0(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;

	mutex_unlock(&gspca_dev->usb_lock);
	flush_work(&sd->work);
	mutex_lock(&gspca_dev->usb_lock);
पूर्ण

अटल व्योम करो_स्वतःgain(काष्ठा gspca_dev *gspca_dev)
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	पूर्णांक delta;
	पूर्णांक expoबार;
	u8 luma_mean = 130;
	u8 luma_delta = 20;

	/* Thanks S., without your advice, स्वतःbright should not work :) */
	अगर (sd->ag_cnt < 0)
		वापस;
	अगर (--sd->ag_cnt >= 0)
		वापस;
	sd->ag_cnt = AG_CNT_START;

	delta = atomic_पढ़ो(&sd->avg_lum);
	gspca_dbg(gspca_dev, D_FRAM, "mean lum %d\n", delta);

	अगर (sd->sensor == SENSOR_PO2030N) अणु
		gspca_expo_स्वतःgain(gspca_dev, delta, luma_mean, luma_delta,
					15, 1024);
		वापस;
	पूर्ण

	अगर (delta < luma_mean - luma_delta ||
	    delta > luma_mean + luma_delta) अणु
		चयन (sd->sensor) अणु
		हाल SENSOR_GC0307:
			expoबार = sd->exposure;
			expoबार += (luma_mean - delta) >> 6;
			अगर (expoबार < 0)
				expoबार = 0;
			sd->exposure = expo_adjust(gspca_dev,
						   (अचिन्हित पूर्णांक) expoबार);
			अवरोध;
		हाल SENSOR_HV7131R:
			expoबार = sd->exposure >> 8;
			expoबार += (luma_mean - delta) >> 4;
			अगर (expoबार < 0)
				expoबार = 0;
			sd->exposure = expo_adjust(gspca_dev,
					(अचिन्हित पूर्णांक) (expoबार << 8));
			अवरोध;
		हाल SENSOR_OM6802:
		हाल SENSOR_MT9V111:
			expoबार = sd->exposure;
			expoबार += (luma_mean - delta) >> 2;
			अगर (expoबार < 0)
				expoबार = 0;
			sd->exposure = expo_adjust(gspca_dev,
						   (अचिन्हित पूर्णांक) expoबार);
			setredblue(gspca_dev);
			अवरोध;
		शेष:
/*		हाल SENSOR_MO4000: */
/*		हाल SENSOR_MI0360: */
/*		हाल SENSOR_MI0360B: */
			expoबार = sd->exposure;
			expoबार += (luma_mean - delta) >> 6;
			अगर (expoबार < 0)
				expoबार = 0;
			sd->exposure = expo_adjust(gspca_dev,
						   (अचिन्हित पूर्णांक) expoबार);
			setredblue(gspca_dev);
			अवरोध;
		पूर्ण
	पूर्ण
पूर्ण

/* set the average luminosity from an isoc marker */
अटल व्योम set_lum(काष्ठा sd *sd,
		    u8 *data)
अणु
	पूर्णांक avg_lum;

	/*	w0 w1 w2
	 *	w3 w4 w5
	 *	w6 w7 w8
	 */
	avg_lum = (data[27] << 8) + data[28]		/* w3 */

		+ (data[31] << 8) + data[32]		/* w5 */

		+ (data[23] << 8) + data[24]		/* w1 */

		+ (data[35] << 8) + data[36]		/* w7 */

		+ (data[29] << 10) + (data[30] << 2);	/* w4 * 4 */
	avg_lum >>= 10;
	atomic_set(&sd->avg_lum, avg_lum);
पूर्ण

/* scan the URB packets */
/* This function is run at पूर्णांकerrupt level. */
अटल व्योम sd_pkt_scan(काष्ठा gspca_dev *gspca_dev,
			u8 *data,			/* isoc packet */
			पूर्णांक len)			/* iso packet length */
अणु
	काष्ठा sd *sd = (काष्ठा sd *) gspca_dev;
	पूर्णांक i, new_qual;

	/*
	 * A frame ends on the marker
	 *		ff ff 00 c4 c4 96 ..
	 * which is 62 bytes दीर्घ and is followed by various inक्रमmation
	 * including statuses and luminosity.
	 *
	 * A marker may be split on two packets.
	 *
	 * The 6th byte of a marker contains the bits:
	 *	0x08: USB full
	 *	0xc0: frame sequence
	 * When the bit 'USB full' is set, the frame must be discarded;
	 * this is also the हाल when the 2 bytes beक्रमe the marker are
	 * not the JPEG end of frame ('ff d9').
	 */

	/* count the packets and their size */
	sd->npkt++;
	sd->pktsz += len;

/*fixme: assumption about the following code:
 *	- there can be only one marker in a packet
 */

	/* skip the reमुख्यing bytes of a लघु marker */
	i = sd->लघु_mark;
	अगर (i != 0) अणु
		sd->लघु_mark = 0;
		अगर (i < 0	/* अगर 'ff' at end of previous packet */
		 && data[0] == 0xff
		 && data[1] == 0x00)
			जाओ marker_found;
		अगर (data[0] == 0xff && data[1] == 0xff) अणु
			i = 0;
			जाओ marker_found;
		पूर्ण
		len -= i;
		अगर (len <= 0)
			वापस;
		data += i;
	पूर्ण

	/* search backwards अगर there is a marker in the packet */
	क्रम (i = len - 1; --i >= 0; ) अणु
		अगर (data[i] != 0xff) अणु
			i--;
			जारी;
		पूर्ण
		अगर (data[i + 1] == 0xff) अणु

			/* (there may be 'ff ff' inside a marker) */
			अगर (i + 2 >= len || data[i + 2] == 0x00)
				जाओ marker_found;
		पूर्ण
	पूर्ण

	/* no marker found */
	/* add the JPEG header अगर first fragment */
	अगर (data[len - 1] == 0xff)
		sd->लघु_mark = -1;
	अगर (gspca_dev->last_packet_type == LAST_PACKET)
		gspca_frame_add(gspca_dev, FIRST_PACKET,
				sd->jpeg_hdr, JPEG_HDR_SZ);
	gspca_frame_add(gspca_dev, INTER_PACKET, data, len);
	वापस;

	/* marker found */
	/* अगर some error, discard the frame and decrease the quality */
marker_found:
	new_qual = 0;
	अगर (i > 2) अणु
		अगर (data[i - 2] != 0xff || data[i - 1] != 0xd9) अणु
			gspca_dev->last_packet_type = DISCARD_PACKET;
			new_qual = -3;
		पूर्ण
	पूर्ण अन्यथा अगर (i + 6 < len) अणु
		अगर (data[i + 6] & 0x08) अणु
			gspca_dev->last_packet_type = DISCARD_PACKET;
			new_qual = -5;
		पूर्ण
	पूर्ण

	gspca_frame_add(gspca_dev, LAST_PACKET, data, i);

	/* compute the filling rate and a new JPEG quality */
	अगर (new_qual == 0) अणु
		पूर्णांक r;

		r = (sd->pktsz * 100) /
			(sd->npkt *
				gspca_dev->urb[0]->iso_frame_desc[0].length);
		अगर (r >= 85)
			new_qual = -3;
		अन्यथा अगर (r < 75)
			new_qual = 2;
	पूर्ण
	अगर (new_qual != 0) अणु
		sd->nchg += new_qual;
		अगर (sd->nchg < -6 || sd->nchg >= 12) अणु
			sd->nchg = 0;
			new_qual += sd->quality;
			अगर (new_qual < QUALITY_MIN)
				new_qual = QUALITY_MIN;
			अन्यथा अगर (new_qual > QUALITY_MAX)
				new_qual = QUALITY_MAX;
			अगर (new_qual != sd->quality) अणु
				sd->quality = new_qual;
				schedule_work(&sd->work);
			पूर्ण
		पूर्ण
	पूर्ण अन्यथा अणु
		sd->nchg = 0;
	पूर्ण
	sd->pktsz = sd->npkt = 0;

	/* अगर the marker is smaller than 62 bytes,
	 * memorize the number of bytes to skip in the next packet */
	अगर (i + 62 > len) अणु			/* no more usable data */
		sd->लघु_mark = i + 62 - len;
		वापस;
	पूर्ण
	अगर (sd->ag_cnt >= 0)
		set_lum(sd, data + i);

	/* अगर more data, start a new frame */
	i += 62;
	अगर (i < len) अणु
		data += i;
		len -= i;
		gspca_frame_add(gspca_dev, FIRST_PACKET,
				sd->jpeg_hdr, JPEG_HDR_SZ);
		gspca_frame_add(gspca_dev, INTER_PACKET, data, len);
	पूर्ण
पूर्ण

अटल पूर्णांक sd_s_ctrl(काष्ठा v4l2_ctrl *ctrl)
अणु
	काष्ठा gspca_dev *gspca_dev =
		container_of(ctrl->handler, काष्ठा gspca_dev, ctrl_handler);

	gspca_dev->usb_err = 0;

	अगर (!gspca_dev->streaming)
		वापस 0;

	चयन (ctrl->id) अणु
	हाल V4L2_CID_BRIGHTNESS:
		setbrightness(gspca_dev);
		अवरोध;
	हाल V4L2_CID_CONTRAST:
		setcontrast(gspca_dev);
		अवरोध;
	हाल V4L2_CID_SATURATION:
		setcolors(gspca_dev);
		अवरोध;
	हाल V4L2_CID_RED_BALANCE:
		setredblue(gspca_dev);
		अवरोध;
	हाल V4L2_CID_GAMMA:
		setgamma(gspca_dev);
		अवरोध;
	हाल V4L2_CID_AUTOGAIN:
		setस्वतःgain(gspca_dev);
		setexposure(gspca_dev);
		setgain(gspca_dev);
		अवरोध;
	हाल V4L2_CID_VFLIP:
		sethvflip(gspca_dev);
		अवरोध;
	हाल V4L2_CID_SHARPNESS:
		setsharpness(gspca_dev);
		अवरोध;
	हाल V4L2_CID_ILLUMINATORS_1:
		setillum(gspca_dev);
		अवरोध;
	हाल V4L2_CID_POWER_LINE_FREQUENCY:
		setfreq(gspca_dev);
		अवरोध;
	शेष:
		वापस -EINVAL;
	पूर्ण
	वापस gspca_dev->usb_err;
पूर्ण

#अगर IS_ENABLED(CONFIG_INPUT)
अटल पूर्णांक sd_पूर्णांक_pkt_scan(काष्ठा gspca_dev *gspca_dev,
			u8 *data,		/* पूर्णांकerrupt packet data */
			पूर्णांक len)		/* पूर्णांकerrupt packet length */
अणु
	पूर्णांक ret = -EINVAL;

	अगर (len == 1 && data[0] == 1) अणु
		input_report_key(gspca_dev->input_dev, KEY_CAMERA, 1);
		input_sync(gspca_dev->input_dev);
		input_report_key(gspca_dev->input_dev, KEY_CAMERA, 0);
		input_sync(gspca_dev->input_dev);
		ret = 0;
	पूर्ण

	वापस ret;
पूर्ण
#पूर्ण_अगर

/* sub-driver description */
अटल स्थिर काष्ठा sd_desc sd_desc = अणु
	.name = MODULE_NAME,
	.config = sd_config,
	.init = sd_init,
	.init_controls = sd_init_controls,
	.start = sd_start,
	.stopN = sd_stopN,
	.stop0 = sd_stop0,
	.pkt_scan = sd_pkt_scan,
	.dq_callback = करो_स्वतःgain,
#अगर IS_ENABLED(CONFIG_INPUT)
	.पूर्णांक_pkt_scan = sd_पूर्णांक_pkt_scan,
#पूर्ण_अगर
पूर्ण;

/* -- module initialisation -- */
#घोषणा BS(bridge, sensor) \
	.driver_info = (BRIDGE_ ## bridge << 16) \
			| (SENSOR_ ## sensor << 8)
#घोषणा BSF(bridge, sensor, flags) \
	.driver_info = (BRIDGE_ ## bridge << 16) \
			| (SENSOR_ ## sensor << 8) \
			| (flags)
अटल स्थिर काष्ठा usb_device_id device_table[] = अणु
	अणुUSB_DEVICE(0x0458, 0x7025), BSF(SN9C120, MI0360B, F_PDN_INV)पूर्ण,
	अणुUSB_DEVICE(0x0458, 0x702e), BS(SN9C120, OV7660)पूर्ण,
	अणुUSB_DEVICE(0x045e, 0x00f5), BSF(SN9C105, OV7660, F_PDN_INV)पूर्ण,
	अणुUSB_DEVICE(0x045e, 0x00f7), BSF(SN9C105, OV7660, F_PDN_INV)पूर्ण,
	अणुUSB_DEVICE(0x0471, 0x0327), BS(SN9C105, MI0360)पूर्ण,
	अणुUSB_DEVICE(0x0471, 0x0328), BS(SN9C105, MI0360)पूर्ण,
	अणुUSB_DEVICE(0x0471, 0x0330), BS(SN9C105, MI0360)पूर्ण,
	अणुUSB_DEVICE(0x06f8, 0x3004), BS(SN9C105, OV7660)पूर्ण,
	अणुUSB_DEVICE(0x06f8, 0x3008), BS(SN9C105, OV7660)पूर्ण,
/*	अणुUSB_DEVICE(0x0c45, 0x603a), BS(SN9C102P, OV7648)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x6040), BS(SN9C102P, HV7131R)पूर्ण,
/*	अणुUSB_DEVICE(0x0c45, 0x607a), BS(SN9C102P, OV7648)पूर्ण, */
/*	अणुUSB_DEVICE(0x0c45, 0x607b), BS(SN9C102P, OV7660)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x607c), BS(SN9C102P, HV7131R)पूर्ण,
/*	अणुUSB_DEVICE(0x0c45, 0x607e), BS(SN9C102P, OV7630)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x60c0), BSF(SN9C105, MI0360, F_ILLUM)पूर्ण,
						/* or MT9V111 */
/*	अणुUSB_DEVICE(0x0c45, 0x60c2), BS(SN9C105, P1030xC)पूर्ण, */
/*	अणुUSB_DEVICE(0x0c45, 0x60c8), BS(SN9C105, OM6802)पूर्ण, */
/*	अणुUSB_DEVICE(0x0c45, 0x60cc), BS(SN9C105, HV7131GP)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x60ce), BS(SN9C105, SP80708)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x60ec), BS(SN9C105, MO4000)पूर्ण,
/*	अणुUSB_DEVICE(0x0c45, 0x60ef), BS(SN9C105, ICM105C)पूर्ण, */
/*	अणुUSB_DEVICE(0x0c45, 0x60fa), BS(SN9C105, OV7648)पूर्ण, */
/*	अणुUSB_DEVICE(0x0c45, 0x60f2), BS(SN9C105, OV7660)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x60fb), BS(SN9C105, OV7660)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x60fc), BS(SN9C105, HV7131R)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x60fe), BS(SN9C105, OV7630)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x6100), BS(SN9C120, MI0360)पूर्ण,	/*sn9c128*/
	अणुUSB_DEVICE(0x0c45, 0x6102), BS(SN9C120, PO2030N)पूर्ण,	/* /GC0305*/
/*	अणुUSB_DEVICE(0x0c45, 0x6108), BS(SN9C120, OM6802)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x610a), BS(SN9C120, OV7648)पूर्ण,	/*sn9c128*/
	अणुUSB_DEVICE(0x0c45, 0x610b), BS(SN9C120, OV7660)पूर्ण,	/*sn9c128*/
	अणुUSB_DEVICE(0x0c45, 0x610c), BS(SN9C120, HV7131R)पूर्ण,	/*sn9c128*/
	अणुUSB_DEVICE(0x0c45, 0x610e), BS(SN9C120, OV7630)पूर्ण,	/*sn9c128*/
/*	अणुUSB_DEVICE(0x0c45, 0x610f), BS(SN9C120, S5K53BEB)पूर्ण, */
/*	अणुUSB_DEVICE(0x0c45, 0x6122), BS(SN9C110, ICM105C)पूर्ण, */
/*	अणुUSB_DEVICE(0x0c45, 0x6123), BS(SN9C110, SanyoCCD)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x6128), BS(SN9C120, OM6802)पूर्ण,	/*sn9c325?*/
/*bw600.inf:*/
	अणुUSB_DEVICE(0x0c45, 0x612a), BS(SN9C120, OV7648)पूर्ण,	/*sn9c325?*/
	अणुUSB_DEVICE(0x0c45, 0x612b), BS(SN9C110, ADCM1700)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x612c), BS(SN9C110, MO4000)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x612e), BS(SN9C110, OV7630)पूर्ण,
/*	अणुUSB_DEVICE(0x0c45, 0x612f), BS(SN9C110, ICM105C)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x6130), BS(SN9C120, MI0360)पूर्ण,
						/* or MT9V111 / MI0360B */
/*	अणुUSB_DEVICE(0x0c45, 0x6132), BS(SN9C120, OV7670)पूर्ण, */
	अणुUSB_DEVICE(0x0c45, 0x6138), BS(SN9C120, MO4000)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x613a), BS(SN9C120, OV7648)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x613b), BS(SN9C120, OV7660)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x613c), BS(SN9C120, HV7131R)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x613e), BS(SN9C120, OV7630)पूर्ण,
	अणुUSB_DEVICE(0x0c45, 0x6142), BS(SN9C120, PO2030N)पूर्ण,	/*sn9c120b*/
						/* or GC0305 / GC0307 */
	अणुUSB_DEVICE(0x0c45, 0x6143), BS(SN9C120, SP80708)पूर्ण,	/*sn9c120b*/
	अणुUSB_DEVICE(0x0c45, 0x6148), BS(SN9C120, OM6802)पूर्ण,	/*sn9c120b*/
	अणुUSB_DEVICE(0x0c45, 0x614a), BSF(SN9C120, ADCM1700, F_ILLUM)पूर्ण,
/*	अणुUSB_DEVICE(0x0c45, 0x614c), BS(SN9C120, GC0306)पूर्ण, */	/*sn9c120b*/
	अणुपूर्ण
पूर्ण;
MODULE_DEVICE_TABLE(usb, device_table);

/* -- device connect -- */
अटल पूर्णांक sd_probe(काष्ठा usb_पूर्णांकerface *पूर्णांकf,
		    स्थिर काष्ठा usb_device_id *id)
अणु
	वापस gspca_dev_probe(पूर्णांकf, id, &sd_desc, माप(काष्ठा sd),
				THIS_MODULE);
पूर्ण

अटल काष्ठा usb_driver sd_driver = अणु
	.name = MODULE_NAME,
	.id_table = device_table,
	.probe = sd_probe,
	.disconnect = gspca_disconnect,
#अगर_घोषित CONFIG_PM
	.suspend = gspca_suspend,
	.resume = gspca_resume,
	.reset_resume = gspca_resume,
#पूर्ण_अगर
पूर्ण;

module_usb_driver(sd_driver);
