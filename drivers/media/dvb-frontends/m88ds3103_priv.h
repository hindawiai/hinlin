<शैली गुरु>
/* SPDX-License-Identअगरier: GPL-2.0-or-later */
/*
 * Montage Technology M88DS3103/M88RS6000 demodulator driver
 *
 * Copyright (C) 2013 Antti Palosaari <crope@iki.fi>
 */

#अगर_अघोषित M88DS3103_PRIV_H
#घोषणा M88DS3103_PRIV_H

#समावेश <media/dvb_frontend.h>
#समावेश "m88ds3103.h"
#समावेश <media/dvb_गणित.स>
#समावेश <linux/firmware.h>
#समावेश <linux/i2c-mux.h>
#समावेश <linux/regmap.h>
#समावेश <linux/math64.h>

#घोषणा M88DS3103B_FIRMWARE "dvb-demod-m88ds3103b.fw"
#घोषणा M88DS3103_FIRMWARE  "dvb-demod-m88ds3103.fw"
#घोषणा M88RS6000_FIRMWARE  "dvb-demod-m88rs6000.fw"

#घोषणा M88RS6000_CHIP_ID 0x74
#घोषणा M88DS3103_CHIP_ID 0x70

#घोषणा M88DS3103_CHIPTYPE_3103   0
#घोषणा M88DS3103_CHIPTYPE_RS6000 1
#घोषणा M88DS3103_CHIPTYPE_3103B  2

काष्ठा m88ds3103_dev अणु
	काष्ठा i2c_client *client;
	काष्ठा i2c_client *dt_client;
	काष्ठा regmap_config regmap_config;
	काष्ठा regmap *regmap;
	काष्ठा m88ds3103_config config;
	स्थिर काष्ठा m88ds3103_config *cfg;
	काष्ठा dvb_frontend fe;
	क्रमागत fe_delivery_प्रणाली delivery_प्रणाली;
	क्रमागत fe_status fe_status;
	u32 dvbv3_ber; /* क्रम old DVBv3 API पढ़ो_ber */
	bool warm; /* FW running */
	काष्ठा i2c_mux_core *muxc;
	/* स्वतः detect chip id to करो dअगरferent config */
	u8 chip_id;
	/* chip type to dअगरferentiate m88rs6000 from m88ds3103b */
	u8 chiptype;
	/* मुख्य mclk is calculated क्रम M88RS6000 dynamically */
	s32 mclk;
	u64 post_bit_error;
	u64 post_bit_count;
	u8 dt_addr;
पूर्ण;

काष्ठा m88ds3103_reg_val अणु
	u8 reg;
	u8 val;
पूर्ण;

अटल स्थिर काष्ठा m88ds3103_reg_val m88ds3103_dvbs_init_reg_vals[] = अणु
	अणु0x23, 0x07पूर्ण,
	अणु0x08, 0x03पूर्ण,
	अणु0x0c, 0x02पूर्ण,
	अणु0x21, 0x54पूर्ण,
	अणु0x25, 0x8aपूर्ण,
	अणु0x27, 0x31पूर्ण,
	अणु0x30, 0x08पूर्ण,
	अणु0x31, 0x40पूर्ण,
	अणु0x32, 0x32पूर्ण,
	अणु0x35, 0xffपूर्ण,
	अणु0x3a, 0x00पूर्ण,
	अणु0x37, 0x10पूर्ण,
	अणु0x38, 0x10पूर्ण,
	अणु0x39, 0x02पूर्ण,
	अणु0x42, 0x60पूर्ण,
	अणु0x4a, 0x80पूर्ण,
	अणु0x4b, 0x04पूर्ण,
	अणु0x4d, 0x91पूर्ण,
	अणु0x5d, 0xc8पूर्ण,
	अणु0x50, 0x36पूर्ण,
	अणु0x51, 0x36पूर्ण,
	अणु0x52, 0x36पूर्ण,
	अणु0x53, 0x36पूर्ण,
	अणु0x56, 0x01पूर्ण,
	अणु0x63, 0x0fपूर्ण,
	अणु0x64, 0x30पूर्ण,
	अणु0x65, 0x40पूर्ण,
	अणु0x68, 0x26पूर्ण,
	अणु0x69, 0x4cपूर्ण,
	अणु0x70, 0x20पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x40पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x60पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x80पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0xa0पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x1fपूर्ण,
	अणु0x76, 0x38पूर्ण,
	अणु0x77, 0xa6पूर्ण,
	अणु0x78, 0x0cपूर्ण,
	अणु0x79, 0x80पूर्ण,
	अणु0x7f, 0x14पूर्ण,
	अणु0x7c, 0x00पूर्ण,
	अणु0xae, 0x82पूर्ण,
	अणु0x80, 0x64पूर्ण,
	अणु0x81, 0x66पूर्ण,
	अणु0x82, 0x44पूर्ण,
	अणु0x85, 0x04पूर्ण,
	अणु0xcd, 0xf4पूर्ण,
	अणु0x90, 0x33पूर्ण,
	अणु0xa0, 0x44पूर्ण,
	अणु0xc0, 0x08पूर्ण,
	अणु0xc3, 0x10पूर्ण,
	अणु0xc4, 0x08पूर्ण,
	अणु0xc5, 0xf0पूर्ण,
	अणु0xc6, 0xffपूर्ण,
	अणु0xc7, 0x00पूर्ण,
	अणु0xc8, 0x1aपूर्ण,
	अणु0xc9, 0x80पूर्ण,
	अणु0xe0, 0xf8पूर्ण,
	अणु0xe6, 0x8bपूर्ण,
	अणु0xd0, 0x40पूर्ण,
	अणु0xf8, 0x20पूर्ण,
	अणु0xfa, 0x0fपूर्ण,
	अणु0x00, 0x00पूर्ण,
	अणु0xbd, 0x01पूर्ण,
	अणु0xb8, 0x00पूर्ण,
पूर्ण;

अटल स्थिर काष्ठा m88ds3103_reg_val m88ds3103_dvbs2_init_reg_vals[] = अणु
	अणु0x23, 0x07पूर्ण,
	अणु0x08, 0x07पूर्ण,
	अणु0x0c, 0x02पूर्ण,
	अणु0x21, 0x54पूर्ण,
	अणु0x25, 0x8aपूर्ण,
	अणु0x27, 0x31पूर्ण,
	अणु0x30, 0x08पूर्ण,
	अणु0x32, 0x32पूर्ण,
	अणु0x35, 0xffपूर्ण,
	अणु0x3a, 0x00पूर्ण,
	अणु0x37, 0x10पूर्ण,
	अणु0x38, 0x10पूर्ण,
	अणु0x39, 0x02पूर्ण,
	अणु0x42, 0x60पूर्ण,
	अणु0x4a, 0x80पूर्ण,
	अणु0x4b, 0x04पूर्ण,
	अणु0x4d, 0x91पूर्ण,
	अणु0x5d, 0xc8पूर्ण,
	अणु0x50, 0x36पूर्ण,
	अणु0x51, 0x36पूर्ण,
	अणु0x52, 0x36पूर्ण,
	अणु0x53, 0x36पूर्ण,
	अणु0x56, 0x01पूर्ण,
	अणु0x63, 0x0fपूर्ण,
	अणु0x64, 0x10पूर्ण,
	अणु0x65, 0x20पूर्ण,
	अणु0x68, 0x46पूर्ण,
	अणु0x69, 0xcdपूर्ण,
	अणु0x70, 0x20पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x40पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x60पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x80पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0xa0पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x1fपूर्ण,
	अणु0x76, 0x38पूर्ण,
	अणु0x77, 0xa6पूर्ण,
	अणु0x78, 0x0cपूर्ण,
	अणु0x79, 0x80पूर्ण,
	अणु0x7f, 0x14पूर्ण,
	अणु0x85, 0x08पूर्ण,
	अणु0xcd, 0xf4पूर्ण,
	अणु0x90, 0x33पूर्ण,
	अणु0x86, 0x00पूर्ण,
	अणु0x87, 0x0fपूर्ण,
	अणु0x89, 0x00पूर्ण,
	अणु0x8b, 0x44पूर्ण,
	अणु0x8c, 0x66पूर्ण,
	अणु0x9d, 0xc1पूर्ण,
	अणु0x8a, 0x10पूर्ण,
	अणु0xad, 0x40पूर्ण,
	अणु0xa0, 0x44पूर्ण,
	अणु0xc0, 0x08पूर्ण,
	अणु0xc1, 0x10पूर्ण,
	अणु0xc2, 0x08पूर्ण,
	अणु0xc3, 0x10पूर्ण,
	अणु0xc4, 0x08पूर्ण,
	अणु0xc5, 0xf0पूर्ण,
	अणु0xc6, 0xffपूर्ण,
	अणु0xc7, 0x00पूर्ण,
	अणु0xc8, 0x1aपूर्ण,
	अणु0xc9, 0x80पूर्ण,
	अणु0xca, 0x23पूर्ण,
	अणु0xcb, 0x24पूर्ण,
	अणु0xcc, 0xf4पूर्ण,
	अणु0xce, 0x74पूर्ण,
	अणु0x00, 0x00पूर्ण,
	अणु0xbd, 0x01पूर्ण,
	अणु0xb8, 0x00पूर्ण,
पूर्ण;

अटल स्थिर काष्ठा m88ds3103_reg_val m88rs6000_dvbs_init_reg_vals[] = अणु
	अणु0x23, 0x07पूर्ण,
	अणु0x08, 0x03पूर्ण,
	अणु0x0c, 0x02पूर्ण,
	अणु0x20, 0x00पूर्ण,
	अणु0x21, 0x54पूर्ण,
	अणु0x25, 0x82पूर्ण,
	अणु0x27, 0x31पूर्ण,
	अणु0x30, 0x08पूर्ण,
	अणु0x31, 0x40पूर्ण,
	अणु0x32, 0x32पूर्ण,
	अणु0x33, 0x35पूर्ण,
	अणु0x35, 0xffपूर्ण,
	अणु0x3a, 0x00पूर्ण,
	अणु0x37, 0x10पूर्ण,
	अणु0x38, 0x10पूर्ण,
	अणु0x39, 0x02पूर्ण,
	अणु0x42, 0x60पूर्ण,
	अणु0x4a, 0x80पूर्ण,
	अणु0x4b, 0x04पूर्ण,
	अणु0x4d, 0x91पूर्ण,
	अणु0x5d, 0xc8पूर्ण,
	अणु0x50, 0x36पूर्ण,
	अणु0x51, 0x36पूर्ण,
	अणु0x52, 0x36पूर्ण,
	अणु0x53, 0x36पूर्ण,
	अणु0x63, 0x0fपूर्ण,
	अणु0x64, 0x30पूर्ण,
	अणु0x65, 0x40पूर्ण,
	अणु0x68, 0x26पूर्ण,
	अणु0x69, 0x4cपूर्ण,
	अणु0x70, 0x20पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x40पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x60पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x80पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0xa0पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x1fपूर्ण,
	अणु0x76, 0x38पूर्ण,
	अणु0x77, 0xa6पूर्ण,
	अणु0x78, 0x0cपूर्ण,
	अणु0x79, 0x80पूर्ण,
	अणु0x7f, 0x14पूर्ण,
	अणु0x7c, 0x00पूर्ण,
	अणु0xae, 0x82पूर्ण,
	अणु0x80, 0x64पूर्ण,
	अणु0x81, 0x66पूर्ण,
	अणु0x82, 0x44पूर्ण,
	अणु0x85, 0x04पूर्ण,
	अणु0xcd, 0xf4पूर्ण,
	अणु0x90, 0x33पूर्ण,
	अणु0xa0, 0x44पूर्ण,
	अणु0xbe, 0x00पूर्ण,
	अणु0xc0, 0x08पूर्ण,
	अणु0xc3, 0x10पूर्ण,
	अणु0xc4, 0x08पूर्ण,
	अणु0xc5, 0xf0पूर्ण,
	अणु0xc6, 0xffपूर्ण,
	अणु0xc7, 0x00पूर्ण,
	अणु0xc8, 0x1aपूर्ण,
	अणु0xc9, 0x80पूर्ण,
	अणु0xe0, 0xf8पूर्ण,
	अणु0xe6, 0x8bपूर्ण,
	अणु0xd0, 0x40पूर्ण,
	अणु0xf8, 0x20पूर्ण,
	अणु0xfa, 0x0fपूर्ण,
	अणु0x00, 0x00पूर्ण,
	अणु0xbd, 0x01पूर्ण,
	अणु0xb8, 0x00पूर्ण,
	अणु0x29, 0x11पूर्ण,
पूर्ण;

अटल स्थिर काष्ठा m88ds3103_reg_val m88rs6000_dvbs2_init_reg_vals[] = अणु
	अणु0x23, 0x07पूर्ण,
	अणु0x08, 0x07पूर्ण,
	अणु0x0c, 0x02पूर्ण,
	अणु0x20, 0x00पूर्ण,
	अणु0x21, 0x54पूर्ण,
	अणु0x25, 0x82पूर्ण,
	अणु0x27, 0x31पूर्ण,
	अणु0x30, 0x08पूर्ण,
	अणु0x32, 0x32पूर्ण,
	अणु0x33, 0x35पूर्ण,
	अणु0x35, 0xffपूर्ण,
	अणु0x3a, 0x00पूर्ण,
	अणु0x37, 0x10पूर्ण,
	अणु0x38, 0x10पूर्ण,
	अणु0x39, 0x02पूर्ण,
	अणु0x42, 0x60पूर्ण,
	अणु0x4a, 0x80पूर्ण,
	अणु0x4b, 0x04पूर्ण,
	अणु0x4d, 0x91पूर्ण,
	अणु0x5d, 0xc8पूर्ण,
	अणु0x50, 0x36पूर्ण,
	अणु0x51, 0x36पूर्ण,
	अणु0x52, 0x36पूर्ण,
	अणु0x53, 0x36पूर्ण,
	अणु0x63, 0x0fपूर्ण,
	अणु0x64, 0x10पूर्ण,
	अणु0x65, 0x20पूर्ण,
	अणु0x68, 0x46पूर्ण,
	अणु0x69, 0xcdपूर्ण,
	अणु0x70, 0x20पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x40पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x60पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x80पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0xa0पूर्ण,
	अणु0x71, 0x70पूर्ण,
	अणु0x72, 0x04पूर्ण,
	अणु0x73, 0x00पूर्ण,
	अणु0x70, 0x1fपूर्ण,
	अणु0x76, 0x38पूर्ण,
	अणु0x77, 0xa6पूर्ण,
	अणु0x78, 0x0cपूर्ण,
	अणु0x79, 0x80पूर्ण,
	अणु0x7f, 0x14पूर्ण,
	अणु0x85, 0x08पूर्ण,
	अणु0xcd, 0xf4पूर्ण,
	अणु0x90, 0x33पूर्ण,
	अणु0x86, 0x00पूर्ण,
	अणु0x87, 0x0fपूर्ण,
	अणु0x89, 0x00पूर्ण,
	अणु0x8b, 0x44पूर्ण,
	अणु0x8c, 0x66पूर्ण,
	अणु0x9d, 0xc1पूर्ण,
	अणु0x8a, 0x10पूर्ण,
	अणु0xad, 0x40पूर्ण,
	अणु0xa0, 0x44पूर्ण,
	अणु0xbe, 0x00पूर्ण,
	अणु0xc0, 0x08पूर्ण,
	अणु0xc1, 0x10पूर्ण,
	अणु0xc2, 0x08पूर्ण,
	अणु0xc3, 0x10पूर्ण,
	अणु0xc4, 0x08पूर्ण,
	अणु0xc5, 0xf0पूर्ण,
	अणु0xc6, 0xffपूर्ण,
	अणु0xc7, 0x00पूर्ण,
	अणु0xc8, 0x1aपूर्ण,
	अणु0xc9, 0x80पूर्ण,
	अणु0xca, 0x23पूर्ण,
	अणु0xcb, 0x24पूर्ण,
	अणु0xcc, 0xf4पूर्ण,
	अणु0xce, 0x74पूर्ण,
	अणु0x00, 0x00पूर्ण,
	अणु0xbd, 0x01पूर्ण,
	अणु0xb8, 0x00पूर्ण,
	अणु0x29, 0x01पूर्ण,
पूर्ण;
#पूर्ण_अगर
