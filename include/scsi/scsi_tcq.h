<शैली गुरु>
/* SPDX-License-Identअगरier: GPL-2.0 */
#अगर_अघोषित _SCSI_SCSI_TCQ_H
#घोषणा _SCSI_SCSI_TCQ_H

#समावेश <linux/blkdev.h>
#समावेश <scsi/scsi_cmnd.h>
#समावेश <scsi/scsi_device.h>
#समावेश <scsi/scsi_host.h>

#घोषणा SCSI_NO_TAG	(-1)    /* identअगरy no tag in use */


#अगर_घोषित CONFIG_BLOCK
/**
 * scsi_host_find_tag - find the tagged command by host
 * @shost:	poपूर्णांकer to scsi_host
 * @tag:	tag
 *
 * Note: क्रम devices using multiple hardware queues tag must have been
 * generated by blk_mq_unique_tag().
 **/
अटल अंतरभूत काष्ठा scsi_cmnd *scsi_host_find_tag(काष्ठा Scsi_Host *shost,
		पूर्णांक tag)
अणु
	काष्ठा request *req = शून्य;
	u16 hwq;

	अगर (tag == SCSI_NO_TAG)
		वापस शून्य;

	hwq = blk_mq_unique_tag_to_hwq(tag);
	अगर (hwq < shost->tag_set.nr_hw_queues) अणु
		req = blk_mq_tag_to_rq(shost->tag_set.tags[hwq],
					blk_mq_unique_tag_to_tag(tag));
	पूर्ण

	अगर (!req || !blk_mq_request_started(req))
		वापस शून्य;
	वापस blk_mq_rq_to_pdu(req);
पूर्ण

#पूर्ण_अगर /* CONFIG_BLOCK */
#पूर्ण_अगर /* _SCSI_SCSI_TCQ_H */
