<शैली गुरु>
/* SPDX-License-Identअगरier: GPL-2.0-only */
/*
 * tegra30_i2s.h - Definitions क्रम Tegra30 I2S driver
 *
 * Copyright (c) 2011,2012, NVIDIA CORPORATION.  All rights reserved.
 */

#अगर_अघोषित __TEGRA30_I2S_H__
#घोषणा __TEGRA30_I2S_H__

#समावेश "tegra_pcm.h"

/* Register offsets from TEGRA30_I2S*_BASE */

#घोषणा TEGRA30_I2S_CTRL				0x0
#घोषणा TEGRA30_I2S_TIMING				0x4
#घोषणा TEGRA30_I2S_OFFSET				0x08
#घोषणा TEGRA30_I2S_CH_CTRL				0x0c
#घोषणा TEGRA30_I2S_SLOT_CTRL				0x10
#घोषणा TEGRA30_I2S_CIF_RX_CTRL				0x14
#घोषणा TEGRA30_I2S_CIF_TX_CTRL				0x18
#घोषणा TEGRA30_I2S_FLOWCTL				0x1c
#घोषणा TEGRA30_I2S_TX_STEP				0x20
#घोषणा TEGRA30_I2S_FLOW_STATUS				0x24
#घोषणा TEGRA30_I2S_FLOW_TOTAL				0x28
#घोषणा TEGRA30_I2S_FLOW_OVER				0x2c
#घोषणा TEGRA30_I2S_FLOW_UNDER				0x30
#घोषणा TEGRA30_I2S_LCOEF_1_4_0				0x34
#घोषणा TEGRA30_I2S_LCOEF_1_4_1				0x38
#घोषणा TEGRA30_I2S_LCOEF_1_4_2				0x3c
#घोषणा TEGRA30_I2S_LCOEF_1_4_3				0x40
#घोषणा TEGRA30_I2S_LCOEF_1_4_4				0x44
#घोषणा TEGRA30_I2S_LCOEF_1_4_5				0x48
#घोषणा TEGRA30_I2S_LCOEF_2_4_0				0x4c
#घोषणा TEGRA30_I2S_LCOEF_2_4_1				0x50
#घोषणा TEGRA30_I2S_LCOEF_2_4_2				0x54

/* Fields in TEGRA30_I2S_CTRL */

#घोषणा TEGRA30_I2S_CTRL_XFER_EN_TX			(1 << 31)
#घोषणा TEGRA30_I2S_CTRL_XFER_EN_RX			(1 << 30)
#घोषणा TEGRA30_I2S_CTRL_CG_EN				(1 << 29)
#घोषणा TEGRA30_I2S_CTRL_SOFT_RESET			(1 << 28)
#घोषणा TEGRA30_I2S_CTRL_TX_FLOWCTL_EN			(1 << 27)

#घोषणा TEGRA30_I2S_CTRL_OBS_SEL_SHIFT			24
#घोषणा TEGRA30_I2S_CTRL_OBS_SEL_MASK			(7 << TEGRA30_I2S_CTRL_OBS_SEL_SHIFT)

#घोषणा TEGRA30_I2S_FRAME_FORMAT_LRCK			0
#घोषणा TEGRA30_I2S_FRAME_FORMAT_FSYNC			1

#घोषणा TEGRA30_I2S_CTRL_FRAME_FORMAT_SHIFT		12
#घोषणा TEGRA30_I2S_CTRL_FRAME_FORMAT_MASK		(7                              << TEGRA30_I2S_CTRL_FRAME_FORMAT_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_FRAME_FORMAT_LRCK		(TEGRA30_I2S_FRAME_FORMAT_LRCK  << TEGRA30_I2S_CTRL_FRAME_FORMAT_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_FRAME_FORMAT_FSYNC		(TEGRA30_I2S_FRAME_FORMAT_FSYNC << TEGRA30_I2S_CTRL_FRAME_FORMAT_SHIFT)

#घोषणा TEGRA30_I2S_CTRL_MASTER_ENABLE			(1 << 10)

#घोषणा TEGRA30_I2S_LRCK_LEFT_LOW			0
#घोषणा TEGRA30_I2S_LRCK_RIGHT_LOW			1

#घोषणा TEGRA30_I2S_CTRL_LRCK_SHIFT			9
#घोषणा TEGRA30_I2S_CTRL_LRCK_MASK			(1                          << TEGRA30_I2S_CTRL_LRCK_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_LRCK_L_LOW			(TEGRA30_I2S_LRCK_LEFT_LOW  << TEGRA30_I2S_CTRL_LRCK_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_LRCK_R_LOW			(TEGRA30_I2S_LRCK_RIGHT_LOW << TEGRA30_I2S_CTRL_LRCK_SHIFT)

#घोषणा TEGRA30_I2S_CTRL_LPBK_ENABLE			(1 << 8)

#घोषणा TEGRA30_I2S_BIT_CODE_LINEAR			0
#घोषणा TEGRA30_I2S_BIT_CODE_ULAW			1
#घोषणा TEGRA30_I2S_BIT_CODE_ALAW			2

#घोषणा TEGRA30_I2S_CTRL_BIT_CODE_SHIFT			4
#घोषणा TEGRA30_I2S_CTRL_BIT_CODE_MASK			(3                           << TEGRA30_I2S_CTRL_BIT_CODE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_CODE_LINEAR		(TEGRA30_I2S_BIT_CODE_LINEAR << TEGRA30_I2S_CTRL_BIT_CODE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_CODE_ULAW			(TEGRA30_I2S_BIT_CODE_ULAW   << TEGRA30_I2S_CTRL_BIT_CODE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_CODE_ALAW			(TEGRA30_I2S_BIT_CODE_ALAW   << TEGRA30_I2S_CTRL_BIT_CODE_SHIFT)

#घोषणा TEGRA30_I2S_BITS_8				1
#घोषणा TEGRA30_I2S_BITS_12				2
#घोषणा TEGRA30_I2S_BITS_16				3
#घोषणा TEGRA30_I2S_BITS_20				4
#घोषणा TEGRA30_I2S_BITS_24				5
#घोषणा TEGRA30_I2S_BITS_28				6
#घोषणा TEGRA30_I2S_BITS_32				7

/* Sample container size; see अणुRX,TXपूर्ण_MASK field in CH_CTRL below */
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT			0
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_MASK			(7                   << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_8			(TEGRA30_I2S_BITS_8  << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_12			(TEGRA30_I2S_BITS_12 << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_16			(TEGRA30_I2S_BITS_16 << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_20			(TEGRA30_I2S_BITS_20 << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_24			(TEGRA30_I2S_BITS_24 << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_28			(TEGRA30_I2S_BITS_28 << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)
#घोषणा TEGRA30_I2S_CTRL_BIT_SIZE_32			(TEGRA30_I2S_BITS_32 << TEGRA30_I2S_CTRL_BIT_SIZE_SHIFT)

/* Fields in TEGRA30_I2S_TIMING */

#घोषणा TEGRA30_I2S_TIMING_NON_SYM_ENABLE		(1 << 12)
#घोषणा TEGRA30_I2S_TIMING_CHANNEL_BIT_COUNT_SHIFT	0
#घोषणा TEGRA30_I2S_TIMING_CHANNEL_BIT_COUNT_MASK_US	0x7ff
#घोषणा TEGRA30_I2S_TIMING_CHANNEL_BIT_COUNT_MASK	(TEGRA30_I2S_TIMING_CHANNEL_BIT_COUNT_MASK_US << TEGRA30_I2S_TIMING_CHANNEL_BIT_COUNT_SHIFT)

/* Fields in TEGRA30_I2S_OFFSET */

#घोषणा TEGRA30_I2S_OFFSET_RX_DATA_OFFSET_SHIFT		16
#घोषणा TEGRA30_I2S_OFFSET_RX_DATA_OFFSET_MASK_US	0x7ff
#घोषणा TEGRA30_I2S_OFFSET_RX_DATA_OFFSET_MASK		(TEGRA30_I2S_OFFSET_RX_DATA_OFFSET_MASK_US << TEGRA30_I2S_OFFSET_RX_DATA_OFFSET_SHIFT)
#घोषणा TEGRA30_I2S_OFFSET_TX_DATA_OFFSET_SHIFT		0
#घोषणा TEGRA30_I2S_OFFSET_TX_DATA_OFFSET_MASK_US	0x7ff
#घोषणा TEGRA30_I2S_OFFSET_TX_DATA_OFFSET_MASK		(TEGRA30_I2S_OFFSET_TX_DATA_OFFSET_MASK_US << TEGRA30_I2S_OFFSET_TX_DATA_OFFSET_SHIFT)

/* Fields in TEGRA30_I2S_CH_CTRL */

/* (FSYNC width - 1) in bit घड़ीs */
#घोषणा TEGRA30_I2S_CH_CTRL_FSYNC_WIDTH_SHIFT		24
#घोषणा TEGRA30_I2S_CH_CTRL_FSYNC_WIDTH_MASK_US		0xff
#घोषणा TEGRA30_I2S_CH_CTRL_FSYNC_WIDTH_MASK		(TEGRA30_I2S_CH_CTRL_FSYNC_WIDTH_MASK_US << TEGRA30_I2S_CH_CTRL_FSYNC_WIDTH_SHIFT)

#घोषणा TEGRA30_I2S_HIGHZ_NO				0
#घोषणा TEGRA30_I2S_HIGHZ_YES				1
#घोषणा TEGRA30_I2S_HIGHZ_ON_HALF_BIT_CLK		2

#घोषणा TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_SHIFT		12
#घोषणा TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_MASK		(3                                 << TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_NO		(TEGRA30_I2S_HIGHZ_NO              << TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_YES		(TEGRA30_I2S_HIGHZ_YES             << TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_ON_HALF_BIT_CLK	(TEGRA30_I2S_HIGHZ_ON_HALF_BIT_CLK << TEGRA30_I2S_CH_CTRL_HIGHZ_CTRL_SHIFT)

#घोषणा TEGRA30_I2S_MSB_FIRST				0
#घोषणा TEGRA30_I2S_LSB_FIRST				1

#घोषणा TEGRA30_I2S_CH_CTRL_RX_BIT_ORDER_SHIFT		10
#घोषणा TEGRA30_I2S_CH_CTRL_RX_BIT_ORDER_MASK		(1                     << TEGRA30_I2S_CH_CTRL_RX_BIT_ORDER_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_RX_BIT_ORDER_MSB_FIRST	(TEGRA30_I2S_MSB_FIRST << TEGRA30_I2S_CH_CTRL_RX_BIT_ORDER_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_RX_BIT_ORDER_LSB_FIRST	(TEGRA30_I2S_LSB_FIRST << TEGRA30_I2S_CH_CTRL_RX_BIT_ORDER_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_TX_BIT_ORDER_SHIFT		9
#घोषणा TEGRA30_I2S_CH_CTRL_TX_BIT_ORDER_MASK		(1                     << TEGRA30_I2S_CH_CTRL_TX_BIT_ORDER_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_TX_BIT_ORDER_MSB_FIRST	(TEGRA30_I2S_MSB_FIRST << TEGRA30_I2S_CH_CTRL_TX_BIT_ORDER_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_TX_BIT_ORDER_LSB_FIRST	(TEGRA30_I2S_LSB_FIRST << TEGRA30_I2S_CH_CTRL_TX_BIT_ORDER_SHIFT)

#घोषणा TEGRA30_I2S_POS_EDGE				0
#घोषणा TEGRA30_I2S_NEG_EDGE				1

#घोषणा TEGRA30_I2S_CH_CTRL_EGDE_CTRL_SHIFT		8
#घोषणा TEGRA30_I2S_CH_CTRL_EGDE_CTRL_MASK		(1                    << TEGRA30_I2S_CH_CTRL_EGDE_CTRL_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_EGDE_CTRL_POS_EDGE		(TEGRA30_I2S_POS_EDGE << TEGRA30_I2S_CH_CTRL_EGDE_CTRL_SHIFT)
#घोषणा TEGRA30_I2S_CH_CTRL_EGDE_CTRL_NEG_EDGE		(TEGRA30_I2S_NEG_EDGE << TEGRA30_I2S_CH_CTRL_EGDE_CTRL_SHIFT)

/* Sample size is # bits from BIT_SIZE minus this field */
#घोषणा TEGRA30_I2S_CH_CTRL_RX_MASK_BITS_SHIFT		4
#घोषणा TEGRA30_I2S_CH_CTRL_RX_MASK_BITS_MASK_US	7
#घोषणा TEGRA30_I2S_CH_CTRL_RX_MASK_BITS_MASK		(TEGRA30_I2S_CH_CTRL_RX_MASK_BITS_MASK_US << TEGRA30_I2S_CH_CTRL_RX_MASK_BITS_SHIFT)

#घोषणा TEGRA30_I2S_CH_CTRL_TX_MASK_BITS_SHIFT		0
#घोषणा TEGRA30_I2S_CH_CTRL_TX_MASK_BITS_MASK_US	7
#घोषणा TEGRA30_I2S_CH_CTRL_TX_MASK_BITS_MASK		(TEGRA30_I2S_CH_CTRL_TX_MASK_BITS_MASK_US << TEGRA30_I2S_CH_CTRL_TX_MASK_BITS_SHIFT)

/* Fields in TEGRA30_I2S_SLOT_CTRL */

/* Number of slots in frame, minus 1 */
#घोषणा TEGRA30_I2S_SLOT_CTRL_TOTAL_SLOTS_SHIFT		16
#घोषणा TEGRA30_I2S_SLOT_CTRL_TOTAL_SLOTS_MASK_US	7
#घोषणा TEGRA30_I2S_SLOT_CTRL_TOTAL_SLOTS_MASK		(TEGRA30_I2S_SLOT_CTRL_TOTAL_SLOTS_MASK_US << TEGRA30_I2S_SLOT_CTRL_TOTAL_SLOTS_SHIFT)

/* TDM mode slot enable biपंचांगask */
#घोषणा TEGRA30_I2S_SLOT_CTRL_RX_SLOT_ENABLES_SHIFT	8
#घोषणा TEGRA30_I2S_SLOT_CTRL_RX_SLOT_ENABLES_MASK	(0xff << TEGRA30_I2S_SLOT_CTRL_RX_SLOT_ENABLES_SHIFT)

#घोषणा TEGRA30_I2S_SLOT_CTRL_TX_SLOT_ENABLES_SHIFT	0
#घोषणा TEGRA30_I2S_SLOT_CTRL_TX_SLOT_ENABLES_MASK	(0xff << TEGRA30_I2S_SLOT_CTRL_TX_SLOT_ENABLES_SHIFT)

/* Fields in TEGRA30_I2S_CIF_RX_CTRL */
/* Uses field from TEGRA30_AUDIOCIF_CTRL_* in tegra30_ahub.h */

/* Fields in TEGRA30_I2S_CIF_TX_CTRL */
/* Uses field from TEGRA30_AUDIOCIF_CTRL_* in tegra30_ahub.h */

/* Fields in TEGRA30_I2S_FLOWCTL */

#घोषणा TEGRA30_I2S_FILTER_LINEAR			0
#घोषणा TEGRA30_I2S_FILTER_QUAD				1

#घोषणा TEGRA30_I2S_FLOWCTL_FILTER_SHIFT		31
#घोषणा TEGRA30_I2S_FLOWCTL_FILTER_MASK			(1                         << TEGRA30_I2S_FLOWCTL_FILTER_SHIFT)
#घोषणा TEGRA30_I2S_FLOWCTL_FILTER_LINEAR		(TEGRA30_I2S_FILTER_LINEAR << TEGRA30_I2S_FLOWCTL_FILTER_SHIFT)
#घोषणा TEGRA30_I2S_FLOWCTL_FILTER_QUAD			(TEGRA30_I2S_FILTER_QUAD   << TEGRA30_I2S_FLOWCTL_FILTER_SHIFT)

/* Fields in TEGRA30_I2S_TX_STEP */

#घोषणा TEGRA30_I2S_TX_STEP_SHIFT			0
#घोषणा TEGRA30_I2S_TX_STEP_MASK_US			0xffff
#घोषणा TEGRA30_I2S_TX_STEP_MASK			(TEGRA30_I2S_TX_STEP_MASK_US << TEGRA30_I2S_TX_STEP_SHIFT)

/* Fields in TEGRA30_I2S_FLOW_STATUS */

#घोषणा TEGRA30_I2S_FLOW_STATUS_UNDERFLOW		(1 << 31)
#घोषणा TEGRA30_I2S_FLOW_STATUS_OVERFLOW		(1 << 30)
#घोषणा TEGRA30_I2S_FLOW_STATUS_MONITOR_INT_EN		(1 << 4)
#घोषणा TEGRA30_I2S_FLOW_STATUS_COUNTER_CLR		(1 << 3)
#घोषणा TEGRA30_I2S_FLOW_STATUS_MONITOR_CLR		(1 << 2)
#घोषणा TEGRA30_I2S_FLOW_STATUS_COUNTER_EN		(1 << 1)
#घोषणा TEGRA30_I2S_FLOW_STATUS_MONITOR_EN		(1 << 0)

/*
 * There are no fields in TEGRA30_I2S_FLOW_TOTAL, TEGRA30_I2S_FLOW_OVER,
 * TEGRA30_I2S_FLOW_UNDER; they are counters taking the whole रेजिस्टर.
 */

/* Fields in TEGRA30_I2S_LCOEF_* */

#घोषणा TEGRA30_I2S_LCOEF_COEF_SHIFT			0
#घोषणा TEGRA30_I2S_LCOEF_COEF_MASK_US			0xffff
#घोषणा TEGRA30_I2S_LCOEF_COEF_MASK			(TEGRA30_I2S_LCOEF_COEF_MASK_US << TEGRA30_I2S_LCOEF_COEF_SHIFT)

काष्ठा tegra30_i2s_soc_data अणु
	व्योम (*set_audio_cअगर)(काष्ठा regmap *regmap,
			      अचिन्हित पूर्णांक reg,
			      काष्ठा tegra30_ahub_cअगर_conf *conf);
पूर्ण;

काष्ठा tegra30_i2s अणु
	स्थिर काष्ठा tegra30_i2s_soc_data *soc_data;
	काष्ठा snd_soc_dai_driver dai;
	पूर्णांक cअगर_id;
	काष्ठा clk *clk_i2s;
	क्रमागत tegra30_ahub_txcअगर capture_i2s_cअगर;
	क्रमागत tegra30_ahub_rxcअगर capture_fअगरo_cअगर;
	अक्षर capture_dma_chan[8];
	काष्ठा snd_dmaengine_dai_dma_data capture_dma_data;
	क्रमागत tegra30_ahub_rxcअगर playback_i2s_cअगर;
	क्रमागत tegra30_ahub_txcअगर playback_fअगरo_cअगर;
	अक्षर playback_dma_chan[8];
	काष्ठा snd_dmaengine_dai_dma_data playback_dma_data;
	काष्ठा regmap *regmap;
	काष्ठा snd_dmaengine_pcm_config dma_config;
पूर्ण;

#पूर्ण_अगर
